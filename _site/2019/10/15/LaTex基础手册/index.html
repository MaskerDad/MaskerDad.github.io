<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <!--Google Adsense, details at: "https://www.google.com/adsense/new/u/0/pub-3980406043325966/home" 
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-3980406043325966",
            enable_page_level_ads: true
        });
    </script>-->


    <meta http-equiv="content-type" content="text/html; charset=utf-8">


    <!-- Global site tag (gtag.js) - Google Analytics 
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-130856615-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-130856615-1');
    </script>-->


    <!-- Google Tag Manager 
    <script>(function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            'gtm.start':
                new Date().getTime(), event: 'gtm.js'
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src =
            'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-PW3MXPD');</script>
    <!-- End Google Tag Manager -->


    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black-translucent" name="apple-mobile-web-app-status-bar-style">
    <meta content="telephone=no" name="format-detection">

    <title>LaTeX基础使用手册 | Personal Blog</title>

    <!--live2d function-->
    <script src="/assets/live2dw/lib/L2Dwidget.min.js"></script>
    <script>L2Dwidget.init({
        "pluginRootPath": "live2dw/",
        "pluginJsPath": "lib/",
        "pluginModelPath": "assets/",
        "tagMode": false,
        "debug": false,
        "model": {"jsonPath": "/assets/live2dw/assets/koharu.model.json"},
        "display": {"position": "right", "width": 65, "height": 90, "hOffset": 60, "vOffset": -10,},
        "mobile": {"show": true, "scale": 1,},
        "log": false
    });</script>


    <meta name="keywords"
          content="yzp">
    <meta name="description"
          content="  一、 LaTeX基本概念          1.文档类      2. 宏包      3. LaTeX用到的文件      4.文件的组织方式      5 .只编译排查错误, 不生成文件      6.澄清几个概念        二、用LaTex排版文字          1.语言文字和编码      2...">
    <!--<meta name="baidu-site-verification" content="fjE6fa4d3J"/>-->
    <meta name="author" content="Yang Zhanpeng">

    <link rel="Shortcut Icon" type="image/x-icon" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    <link rel="apple-touch-icon-precomposed" href="/favicon.png">
    <link rel="alternate" type="application/rss+xml" title="Zhan Peng’s Bolg" href="
    /feed.xml">

    <link rel="stylesheet" type="text/css" href="
    /assets/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="
    /assets/css/pure-min.css">
    <link rel="stylesheet" type="text/css" href="
    /assets/css/grids-responsive-min.css">
    <link rel="stylesheet" type="text/css" href="
    /assets/css/style.css?v=1514870841">

    <!--use mathJax to edit formulas in LaTex grammar.-->
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
              skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
              inlineMath: [['$','$']]
            }
          });




    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>


    <script type="text/javascript" src="/assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/js/tongji.baidu.js"></script>

</head>

<body>

<!-- Google Tag Manager (noscript) 
<noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PW3MXPD"
            height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->


<div class="body_container">
    <div id="header">
        <div class="site-name">
            <h1 class="hidden">LaTeX基础使用手册</h1>
            <a id="logo" href="/.">Zhan Peng’s Bolg</a>
            <p class="description">Personal Blog</p>
        </div>
        <div id="nav-menu">
            
            <a href="/."><i class="icon-home"> 首页</i></a>
            
            <a href="/archives/"><i class="icon-archive"> 归档</i></a>
            
            <a href="/tags/"><i class="icon-tags"> 标签</i></a>
            
            <a href="/guestbook/"><i class="icon-guestbook"> 留言版</i></a>
            
        </div>
        <script type="text/javascript">
            var menus = document.getElementById('nav-menu');
            var ishome = true;
            for (var i = 1; i < menus.childElementCount; i++) {
                var path = location.href;
                var current = path.startsWith(menus.children[i].href);
                if (current) {
                    menus.children[i].className = 'current';
                    ishome = false;
                    break;
                }
            }
            if (ishome) {
                menus.children[0].className = 'current';
            }
        </script>
    </div>

    <div id="layout" class="pure-g">
        <div class="pure-u-1 pure-u-md-3-4">
            <div class="content_container">
                <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">LaTeX基础使用手册</h1>
        <p class="post-meta">
            <time datetime="2019-10-15T00:00:00-07:00" itemprop="datePublished">
                <i class="icon-post-date">Oct 15, 2019</i>
            </time>
             |
            <span class="post-category">
            <i class="icon-post-category">
            
                <a href="/category/#LaTeXManuals">LaTeXManuals</a>
            
            </i>
        </span>   |
            <span class="post-tag">
            <i class="icon-post-tag">
            
                <a href="/tags/#LaTeX">LaTeX</a>
            
            </i>
        </span>


            <!-- 阅读量统计， id 将作为查询条件 -->
            <span id=/2019/10/15/LaTex%E5%9F%BA%E7%A1%80%E6%89%8B%E5%86%8C/ class="leancloud-visitors" data-flag-title=LaTeX基础使用手册>
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-text">阅读量 </span>
                <span class="leancloud-visitors-count"></span>
            </span>
        </p>

    </header>

    <div class="post-content" itemprop="articleBody">
        <ul class="toc" id="markdown-toc">
  <li><a href="#一-latex基本概念" id="markdown-toc-一-latex基本概念">一、 LaTeX基本概念</a>    <ul>
      <li><a href="#1文档类" id="markdown-toc-1文档类">1.文档类</a></li>
      <li><a href="#2-宏包" id="markdown-toc-2-宏包">2. 宏包</a></li>
      <li><a href="#3-latex用到的文件" id="markdown-toc-3-latex用到的文件">3. LaTeX用到的文件</a></li>
      <li><a href="#4文件的组织方式" id="markdown-toc-4文件的组织方式">4.文件的组织方式</a></li>
      <li><a href="#5-只编译排查错误-不生成文件" id="markdown-toc-5-只编译排查错误-不生成文件">5 .只编译排查错误, 不生成文件</a></li>
      <li><a href="#6澄清几个概念" id="markdown-toc-6澄清几个概念">6.澄清几个概念</a></li>
    </ul>
  </li>
  <li><a href="#二用latex排版文字" id="markdown-toc-二用latex排版文字">二、用LaTex排版文字</a>    <ul>
      <li><a href="#1语言文字和编码" id="markdown-toc-1语言文字和编码">1.语言文字和编码</a></li>
      <li><a href="#2-排版中文" id="markdown-toc-2-排版中文">2. 排版中文</a></li>
      <li><a href="#3-latex-中的字符" id="markdown-toc-3-latex-中的字符">3. LaTeX 中的字符</a></li>
      <li><a href="#4-文字强调" id="markdown-toc-4-文字强调">4. 文字强调</a></li>
      <li><a href="#5断行和断页" id="markdown-toc-5断行和断页">5.断行和断页</a></li>
    </ul>
  </li>
  <li><a href="#三文档元素" id="markdown-toc-三文档元素">三、文档元素</a>    <ul>
      <li><a href="#1-章节和目录" id="markdown-toc-1-章节和目录">1. 章节和目录</a></li>
      <li><a href="#2-标题页" id="markdown-toc-2-标题页">2. 标题页</a></li>
      <li><a href="#3-交叉引用" id="markdown-toc-3-交叉引用">3. 交叉引用</a></li>
      <li><a href="#4-脚注和边注" id="markdown-toc-4-脚注和边注">4. 脚注和边注</a></li>
      <li><a href="#5-特殊环境" id="markdown-toc-5-特殊环境">5. 特殊环境</a></li>
      <li><a href="#6-表格" id="markdown-toc-6-表格">6. 表格</a></li>
      <li><a href="#7-图片" id="markdown-toc-7-图片">7. 图片</a></li>
      <li><a href="#8-盒子" id="markdown-toc-8-盒子">8. 盒子</a></li>
      <li><a href="#9-浮动体" id="markdown-toc-9-浮动体">9. 浮动体</a></li>
    </ul>
  </li>
  <li><a href="#四排版数学公式" id="markdown-toc-四排版数学公式">四、排版数学公式</a>    <ul>
      <li><a href="#1-ams宏集" id="markdown-toc-1-ams宏集">1. AMS宏集</a></li>
      <li><a href="#2公式排版基础" id="markdown-toc-2公式排版基础">2.公式排版基础</a></li>
      <li><a href="#3-数学符号" id="markdown-toc-3-数学符号">3. 数学符号</a></li>
      <li><a href="#4多行公式" id="markdown-toc-4多行公式">4.多行公式</a></li>
      <li><a href="#5-数组和矩阵" id="markdown-toc-5-数组和矩阵">5. 数组和矩阵</a></li>
      <li><a href="#6公式中的间距" id="markdown-toc-6公式中的间距">6.公式中的间距</a></li>
      <li><a href="#7-数学符号的字体控制" id="markdown-toc-7-数学符号的字体控制">7. 数学符号的字体控制</a></li>
      <li><a href="#8-定理环境" id="markdown-toc-8-定理环境">8. 定理环境</a></li>
      <li><a href="#9-符号表" id="markdown-toc-9-符号表">9. 符号表</a></li>
    </ul>
  </li>
  <li><a href="#五排版样式设定" id="markdown-toc-五排版样式设定">五、排版样式设定</a>    <ul>
      <li><a href="#1-字体和字号" id="markdown-toc-1-字体和字号">1. 字体和字号</a></li>
      <li><a href="#2-段落格式和间距" id="markdown-toc-2-段落格式和间距">2. 段落格式和间距</a></li>
      <li><a href="#3-页面和分栏" id="markdown-toc-3-页面和分栏">3. 页面和分栏</a></li>
      <li><a href="#4-页眉和页脚" id="markdown-toc-4-页眉和页脚">4. 页眉和页脚</a></li>
    </ul>
  </li>
  <li><a href="#六特色工具和功能" id="markdown-toc-六特色工具和功能">六、特色工具和功能</a>    <ul>
      <li><a href="#1-参考文献和bibtex-工具" id="markdown-toc-1-参考文献和bibtex-工具">1. 参考文献和BIBTEX 工具</a></li>
      <li><a href="#2-索引和makeindex-工具" id="markdown-toc-2-索引和makeindex-工具">2. 索引和makeindex 工具</a></li>
      <li><a href="#3-使用颜色" id="markdown-toc-3-使用颜色">3. 使用颜色</a></li>
      <li><a href="#4使用超链接" id="markdown-toc-4使用超链接">4.使用超链接</a></li>
      <li><a href="#七绘图功能未学习仅浏览一遍推荐visio" id="markdown-toc-七绘图功能未学习仅浏览一遍推荐visio">七、绘图功能[未学习，仅浏览一遍，推荐Visio]</a></li>
    </ul>
  </li>
  <li><a href="#八自定义latex-命令和功能" id="markdown-toc-八自定义latex-命令和功能">八、自定义LATEX 命令和功能</a>    <ul>
      <li><a href="#1-自定义命令和环境" id="markdown-toc-1-自定义命令和环境">1. 自定义命令和环境</a></li>
      <li><a href="#2-编写自己的宏包和文档类" id="markdown-toc-2-编写自己的宏包和文档类">2. 编写自己的宏包和文档类</a></li>
      <li><a href="#3-计数器" id="markdown-toc-3-计数器">3. 计数器</a></li>
      <li><a href="#4-latex-可定制的一些命令和参数" id="markdown-toc-4-latex-可定制的一些命令和参数">4. LaTeX 可定制的一些命令和参数</a></li>
    </ul>
  </li>
</ul>
<blockquote>
  <p>本文内容全部来源于<a href="http://mirrors.tuna.tsinghua.edu.cn/CTAN/info/lshort/chinese">lshort-zh-cn.pdf</a>，本文仅做整理备忘。目的就是加深看一遍的印象，不可能全部记住，仅为了之后遇到问题起码知道往哪找。</p>
</blockquote>

<h2 id="一-latex基本概念">一、 LaTeX基本概念</h2>

<p>最短的LaTeX 源代码示例</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="p">{</span>article<span class="p">}</span> <span class="c">%指定文档使用的文档类</span>
<span class="c">%导言区一般会使用\usepackage 调用宏包，以及会进行对文档的全局设置。</span>
<span class="nt">\begin{document}</span>        <span class="c">%document 环境当中的内容是文档正文</span>
``Hello world!'' from <span class="k">\LaTeX</span>.
<span class="nt">\end{document}</span>
</code></pre></div></div>

<ul>
  <li>LaTeX 中<strong>命令</strong>以反斜线\ 开头,字母形式的LATEX 命令忽略其后的所有连续空格。如果要人为引入空格，需要在命令后面加一对花括号阻止其忽略空格, 比如<code class="highlighter-rouge">\Tex</code>和<code class="highlighter-rouge">\TeX{}</code></li>
  <li>LATEX 中还包括<strong>环境</strong>，用以令一些效果在局部生效，或是生成特殊的文档元素。LATEX 环境的用法为一对命令\begin 和\end</li>
</ul>

<h3 id="1文档类">1.文档类</h3>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="na">[⟨options⟩]</span><span class="p">{</span>⟨class-name⟩<span class="p">}</span>
</code></pre></div></div>

<p>其中<code class="highlighter-rouge">⟨class-name⟩ </code>为文档类的名称，如LaTeX 提供的<code class="highlighter-rouge">article</code>, <code class="highlighter-rouge">book</code>, <code class="highlighter-rouge">report</code>，在其基础上派生的一些文档类如支持中文排版的<code class="highlighter-rouge">ctexart</code> / <code class="highlighter-rouge">ctexbook</code> / <code class="highlighter-rouge">ctexrep</code>，或者有其它功能的一些文档类，如<code class="highlighter-rouge">moderncv </code>/ <code class="highlighter-rouge">beamer </code>等。</p>

<table>
  <thead>
    <tr>
      <th>article</th>
      <th>文章格式的文档类，广泛用于科技论文、报告、说明文档等。</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>report</td>
      <td>长篇报告格式的文档类，具有章节结构，用于综述、长篇论文、简单的书籍等。</td>
    </tr>
    <tr>
      <td>book</td>
      <td>书籍文档类，包含章节结构和前言、正文、后记等结构。</td>
    </tr>
    <tr>
      <td>proc</td>
      <td>基于article 文档类的一个简单的学术文档模板。</td>
    </tr>
    <tr>
      <td>slides</td>
      <td>幻灯格式的文档类，使用无衬线字体。</td>
    </tr>
    <tr>
      <td>minimal</td>
      <td>一个极其精简的文档类，只设定了纸张大小和基本字号，用作代码测试的最小工作示例（Minimal Working Example）。</td>
    </tr>
  </tbody>
</table>

<p>可选参数<code class="highlighter-rouge">⟨options⟩ </code>为文档类指定选项，以全局地规定一些排版的参数，如字号、纸张大小、单双面等等。比如调用article 文档类排版文章，指定纸张为A4 大小，基本字号为11pt，双面排版：<code class="highlighter-rouge"><span class="k">\documentclass</span><span class="na">[11pt,twoside,a4paper]</span><span class="p">{</span>article<span class="p">}</span></code></p>

<ul>
  <li><code class="highlighter-rouge">10pt</code>, <code class="highlighter-rouge">11pt</code>, <code class="highlighter-rouge">12pt </code>指定文档的基本字号。默认为<code class="highlighter-rouge">10pt</code>。</li>
  <li><code class="highlighter-rouge">a4paper</code>, <code class="highlighter-rouge">letterpaper</code>, … 指定纸张大小，默认为美式信纸letterpaper （$8:5\times 11$ 英寸）。可指定选项还包括<code class="highlighter-rouge">a5paper</code>，<code class="highlighter-rouge">b5paper</code>，<code class="highlighter-rouge">executivepaper </code>和<code class="highlighter-rouge">legalpaper</code>。</li>
  <li><code class="highlighter-rouge">twoside</code>, <code class="highlighter-rouge">oneside </code>指定单面/双面排版。双面排版时，奇偶页的页眉页脚、页边距不同。article和report 默认为oneside，book 默认为twoside。</li>
  <li><code class="highlighter-rouge">onecolumn</code>, <code class="highlighter-rouge">twocolumn </code>指定单栏/双栏排版。默认为onecolumn。</li>
  <li><code class="highlighter-rouge">openright</code>, <code class="highlighter-rouge">openany </code>指定新的一章\chapter 是在奇数页（右侧）开始，还是直接紧跟着上一页开始。report 默认为openany，book 默认为openright。对article 无效。</li>
  <li><code class="highlighter-rouge">landscape </code>指定横向排版。默认为纵向。</li>
  <li><code class="highlighter-rouge">titlepage</code>, <code class="highlighter-rouge">notitlepage </code>指定标题命令<code class="highlighter-rouge">\maketitle</code> 是否生成单独的标题页。article 默认为notitlepage，report 和book 默认为titlepage。
<code class="highlighter-rouge">fleqn </code>令行间公式左对齐。默认为居中对齐。
<code class="highlighter-rouge">leqno </code>将公式编号放在左边。默认为右边。
<code class="highlighter-rouge">draft</code>, <code class="highlighter-rouge">final </code>指定草稿/终稿模式。草稿模式下，断行不良的地方会在行尾添加一个黑色方块。默认为final。</li>
</ul>

<h3 id="2-宏包">2. 宏包</h3>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\usepackage</span><span class="na">[⟨options⟩]</span><span class="p">{</span>⟨package-name⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">\usepackage</code> 可以一次性调用多个宏包，在<code class="highlighter-rouge">⟨package-name⟩ </code>中用逗号隔开。这种用法一般不要指定选项：</li>
  <li>宏包（包括前面所说的文档类）可能定义了许多命令和环境，或者修改了LATEX 已有的命令和环境。它们的用法说明记在相应宏包和文档类的帮助文档。在Windows 命令提示符或者Linux 终端下输入命令可查阅相应文档：<code class="highlighter-rouge">texdoc ⟨pkg-name⟩</code></li>
</ul>

<h3 id="3-latex用到的文件">3. LaTeX用到的文件</h3>

<ul>
  <li>.sty 宏包文件。宏包的名称与文件名一致。</li>
  <li>.cls 文档类文件。文档类名称与文件名一致。</li>
  <li>.bib BIBTEX 参考文献数据库文件。</li>
  <li>.bst BIBTEX 用到的参考文献格式模板。</li>
</ul>

<p>辅助文件和日志</p>

<ul>
  <li>.log 排版引擎生成的日志文件，供排查错误使用。</li>
  <li>.aux LATEX 生成的主辅助文件，记录交叉引用、目录、参考文献的引用等。</li>
  <li>.toc LATEX 生成的目录记录文件。</li>
  <li>.lof LATEX 生成的图片目录记录文件。</li>
  <li>.lot LATEX 生成的表格目录记录文件。</li>
  <li>.bbl BIBTEX 生成的参考文献记录文件。</li>
  <li>.blg BIBTEX 生成的日志文件。</li>
  <li>.idx LATEX 生成的供makeindex 处理的索引记录文件。</li>
  <li>.ind makeindex 处理.idx 生成的用于排版的格式化索引文件。</li>
  <li>.ilg makeindex 生成的日志文件。</li>
  <li>.out hyperref 宏包生成的PDF 书签记录文件。</li>
</ul>

<h3 id="4文件的组织方式">4.文件的组织方式</h3>

<p>LaTeX 提供了命令<code class="highlighter-rouge">\include</code>用来在源代码里插入文件：</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\include</span><span class="p">{</span>⟨filename⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p><code class="highlighter-rouge">⟨filename⟩</code>为文件名，如果和要编译的主文件不在一个目录中，则要加上相对或绝对路径</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">⟨filename⟩ </code>可以不带扩展名，此时默认扩展名为.tex。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">\include</code> 在读入<code class="highlighter-rouge">⟨filename⟩ </code>之前会另起一页。有的时候我们并不需要这样，而是用<code class="highlighter-rouge"><span class="k">\input</span></code>命令，它纯粹是把文件里的内容插入：</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\input</span><span class="p">{</span>⟨filename⟩<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>LaTeX 提供了一个<code class="highlighter-rouge">\includeonly </code>命令来组织文件，用于导言区，指定只载入某些文件：<code class="highlighter-rouge">\includeonly{⟨filename1⟩,⟨filename2⟩,…}</code>, 导言区使用了\includeonly 后，正文中不在其列表范围的<code class="highlighter-rouge">\include</code>命令不会起效。</p>
  </li>
</ul>

<h3 id="5-只编译排查错误-不生成文件">5 .只编译排查错误, 不生成文件</h3>

<p>介绍一个实用的工具宏包syntonly。加载这个宏包后，在导言区使用<code class="highlighter-rouge">\syntaxonly</code>命令，可令LATEX 编译后不生成DVI 或者PDF 文档，只排查错误，编译速度会快不少：</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\usepackage</span><span class="p">{</span>syntonly<span class="p">}</span>
<span class="k">\syntaxonly</span>
</code></pre></div></div>

<ul>
  <li>如果想生成文档，则用% 注释掉<code class="highlighter-rouge">\syntaxonly</code>命令即可。</li>
</ul>

<h3 id="6澄清几个概念">6.澄清几个概念</h3>

<ul>
  <li>
    <p><strong>引擎</strong> 全称为排版引擎，是编译源代码并生成文档的程序，如pdfTeX、XeTeX 等。有时也称为编译器。</p>
  </li>
  <li>
    <p><strong>格式</strong> 是定义了一组命令的代码集。LaTeX 就是最广泛应用的一个格式，高德纳本人还编写了一个简单的plain TeX 格式，没有定义诸如\documentclass 和\section 等等命令。</p>
  </li>
  <li>
    <p><strong>编译命令</strong> 是实际调用的、结合了引擎和格式的命令。如xelatex 命令是结合XeTeX 引擎和LaTeX 格式的一个编译命令。</p>
  </li>
  <li>
    <p>TEX 引擎、格式及其对应的编译命令</p>

    <p><img src="/images/posts/2019-10-15/latex.png" style="zoom:70%;" /></p>

    <ul>
      <li>**latex **虽然名为latex 命令，底层调用的引擎其实是pdfTEX。该命令生成dvi（Device Independent格式的文档，用dvipdfmx 命令可以将其转为pdf。</li>
      <li>**pdflatex **底层调用的引擎也是pdfTeX，可以直接生成pdf 格式的文档。</li>
      <li><strong>xelatex</strong> 底层调用的引擎是XeTeX，支持UTF-8 编码和TrueType / OpenType 字体。当前较为方便的中文排版解决方案基于xelatex。</li>
      <li>**lualatex **底层调用的引擎是LuaTEX，这个引擎在pdfTEX 引擎基础上发展而来，除了支持UTF-8 编码和TrueType / OpenType 字体外，还支持通过Lua 语言扩展TEX 的功能。lualatex 编译命令下的中文排版支持需要借助luatex-ja 宏包。</li>
    </ul>
  </li>
</ul>

<h2 id="二用latex排版文字">二、用LaTex排版文字</h2>

<h3 id="1语言文字和编码">1.语言文字和编码</h3>

<ul>
  <li>ASCII 编码 每个字节为八位（8-bit）</li>
  <li>扩展编码 在ASCII 之后，各种语言文字都发展了自己的编码，比如西欧语言的Latin-1，日本的Shift-
JIS，中国大陆的GB2312-80 和GBK 等</li>
  <li>UTF-8 编码 Unicode 是一个多国字符的集合，覆盖了几乎全球范围内的语言文字。UTF-8 是Unicode
的一套编码方案，一个字符可以由一个到四个字节编码，其中单字节字符兼容ASCII 编码。
    <ul>
      <li>latex 命令及pdflatex 命令下可以使用<code class="highlighter-rouge">inputenc </code>宏包支持UTF-8 编码：<code class="highlighter-rouge">\usepackage[utf8]{inputenc}</code></li>
      <li>xelatex 和lualatex 命令原生支持UTF-8 编码将.tex源代码保存为UTF-8 编码，并借助<code class="highlighter-rouge">fontspec </code>宏包调用适当的字体，就可以在源代码中输入任意语言的文字</li>
    </ul>
  </li>
</ul>

<h3 id="2-排版中文">2. 排版中文</h3>

<ul>
  <li>
    <p><code class="highlighter-rouge">xeCJK</code>宏包</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="p">{</span>article<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>xeCJK<span class="p">}</span>
<span class="k">\setCJKmainfont</span><span class="p">{</span>SimSun<span class="p">}</span>
<span class="nt">\begin{document}</span>
中文<span class="k">\LaTeX</span><span class="p">{}</span>排版。
<span class="nt">\end{document}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">ctex</code>宏包和文档类, <code class="highlighter-rouge">ctex</code>宏包和文档类是对<code class="highlighter-rouge">CJK </code>和<code class="highlighter-rouge">xeCJK</code>等宏包的进一步封装。<code class="highlighter-rouge">ctex</code>文档类包括<code class="highlighter-rouge">ctexart </code>/
<code class="highlighter-rouge">ctexrep</code>/ <code class="highlighter-rouge">ctexbook</code>，是对LaTeX 的三个标准文档类的封装</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="p">{</span>ctexart<span class="p">}</span>
<span class="nt">\begin{document}</span>
中文<span class="k">\LaTeX</span><span class="p">{}</span>排版。
<span class="nt">\end{document}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="3-latex-中的字符">3. LaTeX 中的字符</h3>

<ul>
  <li>
    <p><strong>空格</strong> 空格键和Tab 键输入的空白字符视为“空格”。连续的若干个空白字符视为一个空格。一行开头的空格忽略不计。</p>
  </li>
  <li>
    <p><strong>分段</strong> 行末的回车视为一个空格；但连续两个回车，也就是空行，会将文字分段。多个空行被视为一个空行。也可以在行末使用\par 命令分段。</p>

    <blockquote>
      <p>将LaTeX命令输出为文本。</p>

      <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A <span class="nb">\verb</span><span class="kp">|</span><span class="sx">\par</span><span class="kp">|</span> command also starts a new line.
</code></pre></div>      </div>

      <p>编译后得到</p>

      <p>A \par command also starts a new line.</p>
    </blockquote>
  </li>
  <li>
    <p><strong>注释</strong> 用% 字符作为注释。在这个字符之后直到行末，所有的字符都被忽略，行末的回车也不引入空格。</p>
  </li>
  <li>
    <p><strong>特殊字符</strong> <code class="highlighter-rouge"># $ % &amp; { } _ ^ ~ \</code> 这些字符在LaTeX 里有特殊用途, 如果想要输入以上符号，需要使用以下带反斜线的形式输入：<code class="highlighter-rouge">\# \$ \% \&amp; \{  \}  \_ \^ \^{}  \~{} \textbackslash</code></p>
  </li>
  <li>
    <p><strong>反斜杠</strong> <code class="highlighter-rouge">\\</code> 被直接定义成了手动换行的命令，输入反斜杠就只好用<code class="highlighter-rouge">\textbackslash</code>。</p>
  </li>
  <li>
    <p><strong>连字</strong> 西文排版中经常会出现连字（Ligatures），常见的有<code class="highlighter-rouge">ff / fi / fl / ffi / ffl</code>。</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>It's difficult to find <span class="k">\ldots</span> .<span class="k">\\</span>
It's dif<span class="p">{}</span>f<span class="p">{}</span>icult to f<span class="p">{}</span>ind <span class="k">\ldots</span> .
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>标点符号</strong> 中文的标点符号（绝大多数为非ASCII 字符）使用中文输入法输入即可，一般不需要过多留意。而在英文标点符号上，有许多需要留意的地方。</p>

    <ul>
      <li>
        <p><strong>引号</strong>LaTeX 的单引号<code class="highlighter-rouge">‘ ’</code> 用<code class="highlighter-rouge"> 和‘ 输入；双引号</code>“ ” <code class="highlighter-rouge">用</code>` 和’’ 输入</p>
      </li>
      <li>
        <p><strong>连字号和破折号</strong>连字号（hyphen）、短破折号（en-dash）和长破折号（em-dash）。它们分别有不同的用途：连字号- 用来组成复合词；短破折号– 用来连接数字表示范围；长破折号— 用来连接单词，与中文语境中的破折号用法类似。</p>

        <p><img src="/images/posts/2019-10-15/pozhe.png" style="zoom:70%;" /></p>
      </li>
      <li>
        <p><strong><em>省略号</em></strong>LaTeX 提供了命令<code class="highlighter-rouge">\ldots</code> 来生成省略号，相对于直接输入三个点的方式更为合理。<code class="highlighter-rouge">\ldots</code>和<code class="highlighter-rouge">\dots</code> 是两个等效的命令。</p>
      </li>
      <li>
        <p><strong>波浪号</strong> 西文中较少将波浪号作为标点符号使用，通常使用中文的全角波浪号（～）。</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>特殊西文符号与重音</strong></p>

    <p><img src="/images/posts/2019-10-15/teshu.png" style="zoom:100%;" /></p>
  </li>
  <li>
    <p><strong>其它符号</strong></p>

    <p><img src="/images/posts/2019-10-15/qita.png" style="zoom:100%;" /></p>
  </li>
  <li>
    <p>LaTeX 标志</p>

    <p><img src="/images/posts/2019-10-15/biaozhi.png" style="zoom:100%;" /></p>
  </li>
</ul>

<h3 id="4-文字强调">4. 文字强调</h3>

<ul>
  <li><strong>下划线</strong>，一个单词的话<code class="highlighter-rouge">\underline{underlined}</code>, 多个单词或需要换行的话用<code class="highlighter-rouge">ulem</code>宏包的<code class="highlighter-rouge">\uline</code>命令。</li>
  <li><strong>斜体</strong>，<code class="highlighter-rouge">\emph</code> 命令用来将文字变为斜体以示强调。如果在本身已经用\emph 命令强调的文字内部嵌套使用<code class="highlighter-rouge">\emph</code> 命令，内部则使用直立体文字</li>
</ul>

<h3 id="5断行和断页">5.断行和断页</h3>

<ul>
  <li>
    <p><strong>单词间距和断行</strong>, 断行的位置尽可能选取在两个单词之间，也就是用户在源文件中输入的“空格”, 我们可以使用字符<code class="highlighter-rouge">~</code> 在合适的位置插入一个不会断行的空格（高德纳称之为tie，“带子”），通常用在英文人名、图表名称等场景</p>
  </li>
  <li>
    <p><strong>手动断行和断页</strong></p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\\</span><span class="na">[⟨length⟩]</span>
<span class="k">\newline</span>
</code></pre></div>    </div>

    <ul>
      <li><code class="highlighter-rouge">\\</code> 可以带可选参数⟨length⟩，用于在换行处向下增加垂直间距, 而<code class="highlighter-rouge">\newline</code>不带可选参数</li>
      <li><code class="highlighter-rouge">\\ </code>也在表格、公式等地方用于分行，而<code class="highlighter-rouge">\newline</code>只用于文本段落中。</li>
    </ul>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\newpage</span>
<span class="k">\clearpage</span>
</code></pre></div>    </div>

    <ul>
      <li>在双栏排版中<code class="highlighter-rouge">\newpage</code>只起到另起一栏的作用</li>
      <li>涉及到浮动体的排版上行为不同</li>
    </ul>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\linebreak</span><span class="na">[⟨n⟩]</span> <span class="k">\nolinebreak</span><span class="na">[⟨n⟩]</span>
<span class="k">\pagebreak</span><span class="na">[⟨n⟩]</span> <span class="k">\nopagebreak</span><span class="na">[⟨n⟩]</span>
</code></pre></div>    </div>

    <p>以上命令都带一个可选参数，用数字<code class="highlighter-rouge">⟨n⟩</code> 代表适合/不适合的程度，取值范围为0-4，不带
可选参数时，缺省为4。比如<code class="highlighter-rouge">\linebreak[3] </code>意味着此处在断行时优先考虑；<code class="highlighter-rouge">\nopagebreak</code> 或
<code class="highlighter-rouge">\nopagebreak[4] </code>意味着禁止在此处断页。以上命令适合给出优先考虑断行断页/禁止断行断页的位置，但不适合直接拿来断行或断页，使用\newline 或\newpage 等是更好的选择&gt;</p>
  </li>
  <li>
    <p><strong>断词</strong> 对于绝大部分单词，LaTeX 能够找到合适的断词位置，在断开的行尾加上连字符<code class="highlighter-rouge">-</code>。如果一些单词没能自动断词，我们可以在单词内手动使用<code class="highlighter-rouge">\- </code>命令指定断词的位置</p>
  </li>
</ul>

<h2 id="三文档元素">三、文档元素</h2>

<h3 id="1-章节和目录">1. 章节和目录</h3>

<p><strong>1.1 章节标题</strong></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\chapter</span><span class="p">{</span>⟨title⟩<span class="p">}</span> <span class="k">\section</span><span class="p">{</span>⟨title⟩<span class="p">}</span> <span class="k">\subsection</span><span class="p">{</span>⟨title⟩<span class="p">}</span>
<span class="k">\subsubsection</span><span class="p">{</span>⟨title⟩<span class="p">}</span> <span class="k">\paragraph</span><span class="p">{</span>⟨title⟩<span class="p">}</span> <span class="k">\subparagraph</span><span class="p">{</span>⟨title⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">\chapter</code> 只在book 和report 文档类有定义</li>
  <li><code class="highlighter-rouge">\part 命令</code>，用来将整个文档分割为大的分块，但不影响<code class="highlighter-rouge">\chapter</code> 或<code class="highlighter-rouge"> \section</code> 等的编号。</li>
  <li>带可选参数的变体：<code class="highlighter-rouge">\section[⟨short title⟩]{⟨title⟩}</code>
标题使用<code class="highlighter-rouge">⟨title⟩ </code>参数，在目录和页眉页脚中使用<code class="highlighter-rouge">⟨short title⟩ </code>参数；</li>
  <li>带星号的变体：<code class="highlighter-rouge">\section*{⟨title⟩}</code>
标题不带编号，也不生成目录项和页眉页脚。</li>
  <li>article 文档类默认带编号的层级为<code class="highlighter-rouge">\section / \subsection / \subsubsection</code> 三级；</li>
  <li>report/book 文档类默认带编号的层级为<code class="highlighter-rouge">\chapter / \section / \subsection</code> 三级</li>
  <li>标准文档类并未提供为\section 等章节命令定制格式的功能，这一功能由<code class="highlighter-rouge">titlesec</code>宏包提供</li>
</ul>

<p><strong>1.2 目录</strong></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\tableofcontents</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">\tableofcontents</code> 生成的章节默认不写入目录（<code class="highlighter-rouge">\section*</code>或<code class="highlighter-rouge">\chapter*</code>），可使用<code class="highlighter-rouge">tocbibind </code>等宏包修改设置。</li>
  <li>正确生成目录项，一般需要编译两次源代码。</li>
  <li>有时我们使用了\chapter* 或\section* 这样不生成目录项的章节标题命令，而又想手动生成该章节的目录项，可以在标题命令后面使用<code class="highlighter-rouge">\addcontentsline{toc}{⟨level⟩}{⟨title⟩}</code></li>
  <li><code class="highlighter-rouge">titletoc</code>、<code class="highlighter-rouge">tocloft </code>等宏包提供了具体定制目录项格式的功能</li>
</ul>

<p><strong>1.3 文档结构的划分</strong></p>

<ul>
  <li>
    <p><code class="highlighter-rouge">\appendix</code> 命令将正文和附录分开，使用<code class="highlighter-rouge">\appendix</code>后，最高一级章节改为使用拉丁字母编号，从A 开始。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">\frontmatter</code> 前言部分，页码为小写罗马字母格式；其后的<code class="highlighter-rouge">\chapter</code> 不编号。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">\mainmatter</code> 正文部分，页码为阿拉伯数字格式，从1 开始计数；其后的章节编号正常。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">\backmatter </code>后记部分，页码格式不变，继续正常计数；其后的<code class="highlighter-rouge">\chapter</code> 不编号。</p>
  </li>
  <li>
    <p>book 文档类的文档结构示例。</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\documentclass</span><span class="na">[...]</span><span class="p">{</span>book<span class="p">}</span>
<span class="c">% 导言区，加载宏包和各项设置，包括参考文献、索引等</span>
<span class="k">\usepackage</span><span class="p">{</span>...<span class="p">}</span>
<span class="k">\usepackage</span><span class="p">{</span>makeidx<span class="p">}</span>
<span class="k">\makeindex</span>
<span class="k">\bibliographystyle</span><span class="p">{</span>...<span class="p">}</span>
<span class="nt">\begin{document}</span>
<span class="k">\frontmatter</span>
<span class="k">\maketitle</span> <span class="c">% 标题页</span>
<span class="k">\include</span><span class="p">{</span>preface<span class="p">}</span> <span class="c">% 前言章节preface.tex</span>
<span class="k">\tableofcontents</span>
<span class="k">\mainmatter</span>
<span class="k">\include</span><span class="p">{</span>chapter1<span class="p">}</span> <span class="c">% 第一章chapter1.tex</span>
<span class="k">\include</span><span class="p">{</span>chapter2<span class="p">}</span> <span class="c">% 第二章chapter2.tex</span>
...
<span class="k">\appendix</span>
<span class="k">\include</span><span class="p">{</span>appendixA<span class="p">}</span> <span class="c">% 附录A appendixA.tex</span>
...
<span class="k">\backmatter</span>
<span class="k">\include</span><span class="p">{</span>prologue<span class="p">}</span> <span class="c">% 后记prologue.tex</span>
<span class="k">\bibliography</span><span class="p">{</span>...<span class="p">}</span> <span class="c">% 利用BibTeX 工具生成参考文献</span>
<span class="k">\printindex</span> <span class="c">% 利用makeindex 工具生成索引</span>
<span class="nt">\end{document}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="2-标题页">2. 标题页</h3>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\title</span><span class="p">{</span>⟨title⟩<span class="p">}</span> <span class="k">\author</span><span class="p">{</span>⟨author⟩<span class="p">}</span> <span class="k">\date</span><span class="p">{</span>⟨date⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>前两个命令是必须的（不用<code class="highlighter-rouge">\title</code> 会报错；不用<code class="highlighter-rouge">\author</code> 会警告），<code class="highlighter-rouge">\date</code> 命令可选。</p>
  </li>
  <li>
    <p>提供了一个<code class="highlighter-rouge">\today </code>命令自动生成当前日期，<code class="highlighter-rouge">\date</code> 默认使用<code class="highlighter-rouge">\today</code>。</p>
  </li>
  <li>
    <p>在<code class="highlighter-rouge">\title</code>、<code class="highlighter-rouge">\author</code> 等命令内可以使用<code class="highlighter-rouge">\thanks</code> 命令生成标题页的脚注，用<code class="highlighter-rouge">\and</code> 隔开多个人名</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\title</span><span class="p">{</span>Test title<span class="p">}</span>
<span class="k">\author</span><span class="p">{</span> Mary<span class="k">\thanks</span><span class="p">{</span>E-mail:*****@***.com<span class="p">}</span>
<span class="k">\and</span> Ted<span class="k">\thanks</span><span class="p">{</span>Corresponding author<span class="p">}</span>
<span class="k">\and</span> Louis<span class="p">}</span>
<span class="k">\date</span><span class="p">{</span><span class="k">\today</span><span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>生成一个简单的标题页</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\maketitle</span>
</code></pre></div></div>

<ul>
  <li>article 文档类的标题默认不单独成页，而report 和book 默认单独成页。可在\documentclass 命令调用文档类时指定titlepage / notitlepage 选项以修改默认的行为。</li>
</ul>

<h3 id="3-交叉引用">3. 交叉引用</h3>

<p>在能够被交叉引用的地方，如章节、公式、图表、定理等位置使用<code class="highlighter-rouge">\label</code>命令：</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\label</span><span class="p">{</span>⟨label-name⟩<span class="p">}</span>
</code></pre></div></div>

<p>之后可以在别处使用<code class="highlighter-rouge">\ref </code>或<code class="highlighter-rouge">\pageref </code>命令，分别生成交叉引用的编号和页码</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\ref</span><span class="p">{</span>⟨label-name⟩<span class="p">}</span> <span class="k">\pageref</span><span class="p">{</span>⟨label-name⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>为了生成正确的交叉引用，一般也需要多次编译源代码。</li>
  <li><code class="highlighter-rouge">\labe</code>l 命令可用于记录各种类型的交叉引用，使用位置分别为：
    <ul>
      <li><strong>章节标题</strong> 在章节标题命令\section 等之后紧接着使用。
<strong>行间公式</strong> 单行公式在公式内任意位置使用；多行公式在每一行公式的任意位置使用。
<strong>有序列表</strong> 在enumerate 环境的每个\item 命令之后、下一个\item 命令之前任意位置使用。
<strong>图表标题</strong> 在图表标题命令\caption 之后紧接着使用。
<strong>定理环境</strong> 在定理环境内部任意位置使用。</li>
    </ul>
  </li>
  <li>在使用不记编号的命令形式（<code class="highlighter-rouge">\section*</code>、<code class="highlighter-rouge">\caption*</code>、带可选参数的<code class="highlighter-rouge">\item</code> 命令等）时不
要使用<code class="highlighter-rouge">\label</code> 命令，否则生成的引用编号不正确。</li>
</ul>

<h3 id="4-脚注和边注">4. 脚注和边注</h3>

<p>使用<code class="highlighter-rouge">\footnote</code> 命令可以在页面底部生成一个<strong>脚注</strong>：</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\footnote</span><span class="p">{</span>⟨footnote⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>有些情况下（比如在表格环境、各种盒子内）使用\footnote 并不能正确生成脚注。我们可以分两步进行，先使用<code class="highlighter-rouge">\footnotemark</code> 为脚注计数，再在合适的位置用<code class="highlighter-rouge">\footnotetext</code> 生成脚注。比如：</li>
</ul>

<p>使用<code class="highlighter-rouge">\marginpar</code> 命令可在边栏位置生成<strong>边注</strong>：</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\marginpar</span><span class="na">[⟨left-margin⟩]</span><span class="p">{</span>⟨right-margin⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>如果只给定了⟨right-margin⟩，那么边注在奇偶数页文字相同；如果同时给定了⟨left-margin⟩，则偶数页使用⟨left-margin⟩ 的文字。</li>
</ul>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\marginpar</span><span class="p">{</span><span class="k">\footnotesize</span> 边注较窄，不要写过多文字，最好设置较小的字号。<span class="p">}</span>
</code></pre></div></div>

<h3 id="5-特殊环境">5. 特殊环境</h3>

<p><strong>5.1 列表</strong></p>

<p>了基本的有序和无序列表环境<code class="highlighter-rouge">enumerate </code>和<code class="highlighter-rouge">itemize</code>，两者的用法很类似，都用<code class="highlighter-rouge">\item </code>标明每个列表项。<code class="highlighter-rouge">enumerate </code>环境会自动对列表项编号。</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{enumerate}</span>
<span class="k">\item</span> …
<span class="nt">\end{enumerate}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>其中\item 可带一个可选参数，将有序列表的计数或者无序列表的符号替换成自定义的符号。列表可以嵌套使用，最多嵌套四层。</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="nt">\begin{enumerate}</span>
    <span class="k">\item</span> An item.
    <span class="nt">\begin{enumerate}</span>
        <span class="k">\item</span> A nested item.<span class="k">\label</span><span class="p">{</span>itref<span class="p">}</span>
        <span class="k">\item</span><span class="na">[*]</span> A starred item.
    <span class="nt">\end{enumerate}</span>
    <span class="k">\item</span> Reference(<span class="k">\ref</span><span class="p">{</span>itref<span class="p">}</span>).
<span class="nt">\end{enumerate}</span>
  
<span class="nt">\begin{itemize}</span>
    <span class="k">\item</span> An item.
    <span class="nt">\begin{itemize}</span>
        <span class="k">\item</span> A nested item.
        <span class="k">\item</span><span class="na">[+]</span> A `plus' item.
        <span class="k">\item</span> Another item.
    <span class="nt">\end{itemize}</span>
    <span class="k">\item</span> Go back to upper level.
<span class="nt">\end{itemize}</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>关键字环境<code class="highlighter-rouge">description </code>的用法与以上两者类似，不同的是<code class="highlighter-rouge">\item</code> 后的可选参数用来写关键字，以粗体显示，一般是必填的：</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{description}</span>
	<span class="k">\item</span><span class="na">[⟨item title⟩]</span> …
<span class="nt">\end{description}</span>
</code></pre></div></div>

<ul>
  <li>各级无序列表的符号由命令\labelitemi 到\labelitemiv 定义，可以简单地重新定义它们：</li>
</ul>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="k">\renewcommand</span><span class="p">{</span><span class="k">\labelitemi</span><span class="p">}{</span><span class="k">\ddag</span><span class="p">}</span>
<span class="k">\renewcommand</span><span class="p">{</span><span class="k">\labelitemii</span><span class="p">}{</span><span class="k">\dag</span><span class="p">}</span>
<span class="nt">\begin{itemize}</span>
    <span class="k">\item</span> First item
    <span class="nt">\begin{itemize}</span>
        <span class="k">\item</span> Subitem
        <span class="k">\item</span> Subitem
    <span class="nt">\end{itemize}</span>
    <span class="k">\item</span> Second item
<span class="nt">\end{itemize}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>有序列表的符号由命令\labelenumi 到\labelenumiv 定义，重新定义这些命令需要用到计数器相关命令：</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="k">\renewcommand</span><span class="p">{</span><span class="k">\labelenumi</span><span class="p">}</span><span class="c">%</span>
<span class="p">{</span><span class="k">\Alph</span><span class="p">{</span>enumi<span class="p">}</span>&gt;<span class="p">}</span>
<span class="nt">\begin{enumerate}</span>
    <span class="k">\item</span> First item
    <span class="k">\item</span> Second item
<span class="nt">\end{enumerate}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>默认的列表间距比较宽，LaTeX 本身也未提供方便的定制功能，可用<code class="highlighter-rouge">enumitem</code>宏包定制各
种列表间距。<code class="highlighter-rouge">enumitem</code>宏包还提供了对列表标签、引用等的定制。有兴趣的读者可参考其帮助
文档。</p>
  </li>
</ul>

<p><strong>5.2对齐环境</strong></p>

<p>center、flushleft 和flushright 环境分别用于生成居中、左对齐和右对齐的文本环境。</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{center}</span> … <span class="nt">\end{center}</span>
<span class="nt">\begin{flushleft}</span> … <span class="nt">\end{flushleft}</span>
<span class="nt">\begin{flushright}</span> … <span class="nt">\end{flushright}</span>
</code></pre></div></div>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="nt">\begin{center}</span>
Centered text using a
<span class="nb">\verb</span><span class="kp">|</span><span class="sx">center</span><span class="kp">|</span> environment.
<span class="nt">\end{center}</span>
<span class="nt">\begin{flushleft}</span>
Left-aligned text using a
<span class="nb">\verb</span><span class="kp">|</span><span class="sx">flushleft</span><span class="kp">|</span> environment.
<span class="nt">\end{flushleft}</span>
<span class="nt">\begin{flushright}</span>
Right-aligned text using a
<span class="nb">\verb</span><span class="kp">|</span><span class="sx">flushright</span><span class="kp">|</span> environment.
<span class="nt">\end{flushright}</span>
</code></pre></div></div>

<p>除此之外，还可以用以下命令直接改变文字的对齐方式：</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\centering</span> <span class="k">\raggedright</span> <span class="k">\raggedleft</span>
</code></pre></div></div>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="k">\centering</span>
Centered text paragraph.
<span class="k">\raggedright</span>
Left-aligned text paragraph.
<span class="k">\raggedleft</span>
Right-aligned text paragraph.
</code></pre></div></div>

<ul>
  <li>center 等环境会在上下文产生一个额外间距，而\centering 等命令不产生，只是改变对齐方式。比如在浮动体环境table 或figure 内实现居中对齐，用\centering 命令即可，没必要再用center 环境。</li>
</ul>

<p><strong>5.3 引用环境</strong></p>

<ul>
  <li><code class="highlighter-rouge">quote</code>用于引用较短的文字，首行不缩进；<code class="highlighter-rouge">quotation</code>用于引用若干段文字，首行缩进。</li>
  <li>引用环境较一般文字有额外的左右缩进。</li>
  <li><code class="highlighter-rouge">verse </code>用于排版诗歌，与<code class="highlighter-rouge">quotation </code>恰好相反，<code class="highlighter-rouge">verse </code>是首行悬挂缩进的。</li>
</ul>

<p><strong>5.4 代码环境</strong></p>

<p>代码环境<code class="highlighter-rouge">verbatim</code>，它以等宽字体排版代码，回车和空格也分别起到换行和空位的作用；带星号的版本更进一步将空格显示成␣。</p>

<p>要排版简短的代码或关键字，可使用<code class="highlighter-rouge">\verb</code> 命令：</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">\verb</span><span class="kp">⟨</span><span class="sx">delim⟩</span><span class="kp">⟨</span>code⟩⟨delim⟩
</code></pre></div></div>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">⟨delim⟩ </code>标明代码的分界位置，前后必须一致，除字母、空格或星号外，可任意选择使得不与代码本身冲突，习惯上使用</td>
      <td>符号。</td>
    </tr>
  </tbody>
</table>

<ul>
  <li><code class="highlighter-rouge">\verb</code> 命令对符号的处理比较复杂，一般不能用在其它命令的参数里，否则多半会出错。</li>
  <li><code class="highlighter-rouge">verbatim </code>宏包优化了verbatim 环境的内部命令，并提供了<code class="highlighter-rouge">\verbatiminput</code> 命令用来直接
读入文件生成代码环境。<code class="highlighter-rouge">fancyvrb </code>宏包提供了可定制格式的Verbatim 环境；<code class="highlighter-rouge">listings </code>宏包更进一
步，可生成关键字高亮的代码环境，支持各种程序设计语言的语法和关键字。详情请参考各自的
帮助文档。</li>
</ul>

<h3 id="6-表格">6. 表格</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{tabular}{⟨column-spec⟩}
⟨item1⟩ &amp; ⟨item2⟩ &amp; … \\
\hline
⟨item1⟩ &amp; ⟨item2⟩ &amp; … \\
\end{tabular}
</code></pre></div></div>

<p><code class="highlighter-rouge">⟨column-spec⟩ </code>是列格式标记，在接下来的内容将仔细介绍；<code class="highlighter-rouge">&amp;</code> 用来分隔单元格；<code class="highlighter-rouge">\\</code>用来换行；<code class="highlighter-rouge">\hline</code> 用来在行与行之间绘制横线。</p>

<ul>
  <li>
    <p>直接使用tabular 环境的话，会和周围的文字混排, 通常情况下我们不这么用，tabular 环境一般会放置在table 浮动体环境中，并用<code class="highlighter-rouge">\caption</code> 命令加标题。</p>
  </li>
  <li>
    <p><strong>列格式</strong></p>

    <p><img src="/images/posts/2019-10-15/biao.png" alt="" /></p>

    <ul>
      <li>
        <p>表格中每行的单元格数目不能多于列格式里l/c/r/p 的总数（可以少于这个总数），否则出错。</p>
      </li>
      <li>
        <p>@ 格式可在单元格前后插入任意的文本，但同时它也消除了单元格前后额外添加的间距。@
格式可以适当使用以充当“竖线”。特别地，@{} 可直接用来消除单元格前后的间距</p>

        <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\begin{tabular}{@{} r@{:}lr @{}}
</code></pre></div>        </div>
      </li>
      <li>
        <p>提供了简便的将格式参数重复的写法<code class="highlighter-rouge">*{⟨n⟩}{⟨column-spec⟩}</code>，比如以下两种
写法是等效的：</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{tabular}</span><span class="p">{</span>|c|c|c|c|c|p<span class="p">{</span>4em<span class="p">}</span>|p<span class="p">{</span>4em<span class="p">}</span>|<span class="p">}</span>
<span class="nt">\begin{tabular}</span><span class="p">{</span>|*<span class="p">{</span>5<span class="p">}{</span>c|<span class="p">}</span>*<span class="p">{</span>2<span class="p">}{</span>p<span class="p">{</span>4em<span class="p">}</span>|<span class="p">}}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p><code class="highlighter-rouge">array </code>宏包提供了辅助格式&gt; 和&lt;，用于给列格式前后加上修饰命令</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{tabular}</span><span class="p">{</span>&gt;<span class="p">{</span><span class="k">\itshape</span><span class="p">}</span>r&lt;<span class="p">{</span>*<span class="p">}</span>l<span class="p">}</span><span class="c">%示例将某行意大利斜体。并在后面加上*号</span>
<span class="nt">\begin{tabular}</span><span class="p">{</span>&gt;<span class="p">{</span><span class="k">\centering\arraybackslash</span><span class="p">}</span>p<span class="p">{</span>9em<span class="p">}}</span> <span class="c">%示例在p环境中居中对齐</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p><code class="highlighter-rouge">array </code>宏包还提供了类似<code class="highlighter-rouge">p</code> 格式的<code class="highlighter-rouge">m </code>格式和<code class="highlighter-rouge">b</code>格式，三者分别在垂直方向上靠顶端对齐、居
中以及底端对齐。</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="k">\newcommand\txt</span>
<span class="p">{</span>a b c d e f g h i<span class="p">}</span>
<span class="nt">\begin{tabular}</span><span class="p">{</span>cp<span class="p">{</span>2em<span class="p">}</span>m<span class="p">{</span>2em<span class="p">}</span>b<span class="p">{</span>2em<span class="p">}}</span>
<span class="k">\hline</span>
pos <span class="p">&amp;</span> <span class="k">\txt</span> <span class="p">&amp;</span> <span class="k">\txt</span> <span class="p">&amp;</span> <span class="k">\txt</span> <span class="k">\\</span>
<span class="k">\hline</span>
<span class="nt">\end{tabular}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>列宽</strong></p>

    <ul>
      <li>
        <p><code class="highlighter-rouge">tabularx </code>宏包为我们提供了方便的解决方案, 提供了X 列格式，类似p 列格式，不过
会根据表格宽度自动计算列宽，多个X 列格式平均分配列宽</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{tabularx}</span><span class="p">{</span>14em<span class="p">}</span><span class="c">%</span>
<span class="p">{</span>|*<span class="p">{</span>4<span class="p">}{</span>&gt;<span class="p">{</span><span class="k">\centering\arraybackslash</span><span class="p">}</span>X|<span class="p">}}</span>
<span class="k">\hline</span>
A <span class="p">&amp;</span> B <span class="p">&amp;</span> C <span class="p">&amp;</span> D <span class="k">\\</span> <span class="k">\hline</span>
a <span class="p">&amp;</span> b <span class="p">&amp;</span> c <span class="p">&amp;</span> d <span class="k">\\</span> <span class="k">\hline</span>
<span class="nt">\end{tabularx}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>横线</strong></p>

    <ul>
      <li>
        <p>绘制表格线的<code class="highlighter-rouge">\hline</code> 命令。另外<code class="highlighter-rouge">\cline{⟨i⟩-⟨j⟩}</code> 用来绘制跨越部分单元格的横线：</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="nt">\begin{tabular}</span><span class="p">{</span>|c|c|c|<span class="p">}</span>
	<span class="k">\hline</span>
    4 <span class="p">&amp;</span> 9 <span class="p">&amp;</span> 2 <span class="k">\\</span> <span class="k">\cline</span><span class="p">{</span>2-3<span class="p">}</span>
    3 <span class="p">&amp;</span> 5 <span class="p">&amp;</span> 7 <span class="k">\\</span> <span class="k">\cline</span><span class="p">{</span>1-1<span class="p">}</span>
    8 <span class="p">&amp;</span> 1 <span class="p">&amp;</span> 6 <span class="k">\\</span> <span class="k">\hline</span>
<span class="nt">\end{tabular}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>在科技论文排版中广泛应用的表格形式是三线表，形式干净简明。三线表由<code class="highlighter-rouge">booktabs </code>宏包
支持，它提供了<code class="highlighter-rouge">\toprule</code>、<code class="highlighter-rouge">\midrule</code> 和<code class="highlighter-rouge">\bottomrule</code> 命令用以排版三线表的三条线，以及和
<code class="highlighter-rouge">\cline</code> 对应的<code class="highlighter-rouge">\cmidrule</code>。除此之外，最好不要用其它横线以及竖线</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="nt">\begin{tabular}</span><span class="p">{</span>cccc<span class="p">}</span>
    <span class="k">\toprule</span>
        <span class="p">&amp;</span> <span class="k">\multicolumn</span><span class="p">{</span>3<span class="p">}{</span>c<span class="p">}{</span>Numbers<span class="p">}</span> <span class="k">\\</span>
        <span class="k">\cmidrule</span><span class="p">{</span>2-4<span class="p">}</span>
        <span class="p">&amp;</span> 1 <span class="p">&amp;</span> 2 <span class="p">&amp;</span> 3 <span class="k">\\</span>
        <span class="k">\midrule</span>
        Alphabet <span class="p">&amp;</span> A <span class="p">&amp;</span> B <span class="p">&amp;</span> C <span class="k">\\</span>
        Roman <span class="p">&amp;</span> I <span class="p">&amp;</span> II<span class="p">&amp;</span> III <span class="k">\\</span>
    <span class="k">\bottomrule</span>
<span class="nt">\end{tabular}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>合并单元格</strong></p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\multicolumn{⟨n⟩}{⟨column-spec⟩}{⟨item⟩}
</code></pre></div>    </div>

    <p><code class="highlighter-rouge">⟨n⟩ </code>为要合并的列数，<code class="highlighter-rouge">⟨column-spec⟩</code> 为合并单元格后的列格式，只允许出现一个<code class="highlighter-rouge">l/c/r</code> 或<code class="highlighter-rouge">p </code>格式。如果合并前的单元格前后带表格线<code class="highlighter-rouge">|</code>，合并后的列格式也要带<code class="highlighter-rouge">|</code> 以使得表格的竖线一致。</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="nt">\begin{tabular}</span><span class="p">{</span>|c|c|c|<span class="p">}</span>
<span class="k">\hline</span>
1 <span class="p">&amp;</span> 2 <span class="p">&amp;</span> Center <span class="k">\\</span> <span class="k">\hline</span>
<span class="k">\multicolumn</span><span class="p">{</span>2<span class="p">}{</span>|c|<span class="p">}{</span>3<span class="p">}</span> <span class="p">&amp;</span>
<span class="k">\multicolumn</span><span class="p">{</span>1<span class="p">}{</span>r|<span class="p">}{</span>Right<span class="p">}</span> <span class="k">\\</span> <span class="k">\hline</span>
4 <span class="p">&amp;</span> <span class="k">\multicolumn</span><span class="p">{</span>2<span class="p">}{</span>c|<span class="p">}{</span>C<span class="p">}</span> <span class="k">\\</span> <span class="k">\hline</span>
<span class="nt">\end{tabular}</span>
</code></pre></div>    </div>

    <ul>
      <li>
        <p>\multicolumn{1}{⟨column-spec⟩}{⟨item⟩} 的命令可以用来修改某一个单元格的列格式。</p>
      </li>
      <li>
        <p>纵向合并单元格需要用到<code class="highlighter-rouge">multirow </code>宏包提供的<code class="highlighter-rouge">\multirow </code>命令：<code class="highlighter-rouge">\multirow{⟨n⟩}{⟨width⟩}{⟨item⟩}</code></p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="nt">\begin{tabular}</span><span class="p">{</span>ccc<span class="p">}</span>
<span class="k">\hline</span>
<span class="k">\multirow</span><span class="p">{</span>2<span class="p">}{</span>*<span class="p">}{</span>Item<span class="p">}</span> <span class="p">&amp;</span>
<span class="k">\multicolumn</span><span class="p">{</span>2<span class="p">}{</span>c<span class="p">}{</span>Value<span class="p">}</span> <span class="k">\\</span>
<span class="k">\cline</span><span class="p">{</span>2-3<span class="p">}</span>
<span class="p">&amp;</span> First <span class="p">&amp;</span> Second <span class="k">\\</span> <span class="k">\hline</span>
A <span class="p">&amp;</span> 1 <span class="p">&amp;</span> 2 <span class="k">\\</span> <span class="k">\hline</span>
<span class="nt">\end{tabular}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>嵌套表格</strong></p>

    <p>在单元格中嵌套一个小表格可以起到“拆分单元格”的效果</p>

    <ul>
      <li>注意要用\multicolumn 命令配合@{} 格式把单元格的额外边距去掉，使得嵌套的表格线能和外层的表格线正确相连：</li>
    </ul>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="nt">\begin{tabular}</span><span class="p">{</span>|c|c|c|<span class="p">}</span>
    <span class="k">\hline</span>
    a <span class="p">&amp;</span> b <span class="p">&amp;</span> c <span class="k">\\</span> <span class="k">\hline</span>
    a <span class="p">&amp;</span> <span class="k">\multicolumn</span><span class="p">{</span>1<span class="p">}{</span>@<span class="p">{}</span>c@<span class="p">{}</span>|<span class="p">}</span>
        <span class="p">{</span><span class="nt">\begin{tabular}</span><span class="p">{</span>c|c<span class="p">}</span>
            e <span class="p">&amp;</span> f <span class="k">\\</span> <span class="k">\hline</span>
            e <span class="p">&amp;</span> f <span class="k">\\</span>
        <span class="nt">\end{tabular}</span><span class="p">}</span>
    		<span class="p">&amp;</span> c <span class="k">\\</span> <span class="k">\hline</span>
    a <span class="p">&amp;</span> b <span class="p">&amp;</span> c <span class="k">\\</span> <span class="k">\hline</span>
<span class="nt">\end{tabular}</span>
</code></pre></div>    </div>

    <ul>
      <li>
        <p>如果不需要为“拆分的单元格”画线，并且只在垂直方向“拆分”的话，<code class="highlighter-rouge">makecell </code>宏包提供的<code class="highlighter-rouge">\makecell</code> 命令是一个简单的解决方案：</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{tabular}</span><span class="p">{</span>|c|c|<span class="p">}</span>
    <span class="k">\hline</span>
    a <span class="p">&amp;</span> <span class="k">\makecell</span><span class="p">{</span>d1 <span class="k">\\</span> d2<span class="p">}</span> <span class="k">\\</span>
    <span class="k">\hline</span>
    b <span class="p">&amp;</span> c <span class="k">\\</span>
    <span class="k">\hline</span>
<span class="nt">\end{tabular}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>行距控制</strong></p>

    <ul>
      <li>修改参数\arraystretch 可以得到行距更加宽松的表格</li>
    </ul>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\renewcommand\arraystretch</span><span class="p">{</span>1.8<span class="p">}</span>
<span class="nt">\begin{tabular}</span><span class="p">{</span>|c|<span class="p">}</span>
    <span class="k">\hline</span>
    Really loose <span class="k">\\</span> <span class="k">\hline</span>
    tabular rows.<span class="k">\\</span> <span class="k">\hline</span>
<span class="nt">\end{tabular}</span>
</code></pre></div>    </div>

    <ul>
      <li>
        <p>另一种增加间距的办法是给换行命令\ 添加可选参数，在这一行下面加额外的间距，适合用于在行间不加横线的表格：</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{tabular}</span><span class="p">{</span>c<span class="p">}</span>
    <span class="k">\hline</span>
    Head lines <span class="k">\\</span><span class="na">[6pt]</span>
    tabular lines <span class="k">\\</span>
    tabular lines <span class="k">\\</span> <span class="k">\hline</span>
<span class="nt">\end{tabular}</span>
</code></pre></div>        </div>

        <p>但是这种换行方式的存在导致了一个缺陷——表格的首个单元格不能直接使用中括号<code class="highlighter-rouge">[]</code>，否则<code class="highlighter-rouge">\\ </code>往往会将下一行的中括号当作自己的可选参数，因而出错。如果要使用中括号，应当放在花括号<code class="highlighter-rouge">{}</code> 里面。或者也可以选择将换行命令写成<code class="highlighter-rouge">\\[0pt]</code>。</p>
      </li>
    </ul>
  </li>
</ul>

<h3 id="7-图片">7. 图片</h3>

<ul>
  <li>
    <p>需要由graphicx 宏包辅助支持</p>
  </li>
  <li>
    <p>使用latex + dvipdfmx 编译命令时，调用graphicx 宏包时要指定dvipdfmx 选项6；而使用pdflatex 或xelatex 命令编译时不需要。</p>
  </li>
  <li>
    <p>各种编译方式支持的主流图片格式</p>

    <p><img src="/images/posts/2019-10-15/fig.png" alt="" /></p>
  </li>
</ul>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\includegraphics</span><span class="na">[⟨options⟩]</span><span class="p">{</span>⟨filename⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>另外graphicx 宏包还提供了\graphicspath 命令，用于声明一个或多个图片文件存放的目录，使用这些目录里的图片时可不用写路径：</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">% 假设主要的图片放在figures 子目录下，标志放在logo 子目录下</span>
<span class="k">\graphicspath</span><span class="p">{</span> <span class="p">{</span>figures/<span class="p">}</span> <span class="p">{</span>logo/<span class="p">}</span> <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>\includegraphics 命令的可选参数⟨options⟩ 支持⟨key⟩=⟨value⟩ 形式赋值</p>

    <p><img src="/images/posts/2019-10-15/fig2.png" alt="" /></p>
  </li>
</ul>

<h3 id="8-盒子">8. 盒子</h3>

<p>​	盒子是LATEX 排版的基础单元，虽然解释上去有些抽象：每一行是一个盒子，里面的文字从左到右依次排列；每一页也是一个盒子，各行文字从上到下依次排布……颇有一些活字印刷术的味道。不管如何，LATEX 提供了一些命令让我们生成一些有特定用途的盒子。</p>

<p><strong>8.1 水平盒子</strong></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\mbox</span><span class="p">{</span>…<span class="p">}</span>
<span class="k">\makebox</span><span class="na">[⟨width⟩][⟨align⟩]</span><span class="p">{</span>…<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p><code class="highlighter-rouge">\mbox</code>生成一个基本的水平盒子，内容只有一行，不允许分段（除非嵌套其它盒子，比如后文的垂直盒子）。外表看上去，<code class="highlighter-rouge">\mbox</code> 的内容与正常的文本无二，不过断行时文字不会从盒子里断开。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">\makebox</code> 更进一步，可以加上可选参数用于控制盒子的宽度<code class="highlighter-rouge">⟨width⟩</code>，以及内容的对齐方式<code class="highlighter-rouge">⟨align⟩</code>，可选居中<code class="highlighter-rouge">c</code>（默认值）、左对齐<code class="highlighter-rouge">l</code>、右对齐<code class="highlighter-rouge">r </code>和分散对齐<code class="highlighter-rouge">s</code></p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
|<span class="k">\mbox</span><span class="p">{</span>Test some words.<span class="p">}</span>|<span class="k">\\</span>
|<span class="k">\makebox</span><span class="na">[10em]</span><span class="p">{</span>Test some words.<span class="p">}</span>|<span class="k">\\</span>
|<span class="k">\makebox</span><span class="na">[10em][l]</span><span class="p">{</span>Test some words.<span class="p">}</span>|<span class="k">\\</span>
|<span class="k">\makebox</span><span class="na">[10em][r]</span><span class="p">{</span>Test some words.<span class="p">}</span>|<span class="k">\\</span>
|<span class="k">\makebox</span><span class="na">[10em][s]</span><span class="p">{</span>Test some words.<span class="p">}</span>|
</code></pre></div>    </div>
  </li>
</ul>

<p><strong>8.2带框的水平盒子</strong></p>

<p>\fbox 和\framebox 让我们可以为水平盒子添加边框。使用的语法与\mbox 和\makebox一模一样</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\fbox</span><span class="p">{</span>…<span class="p">}</span>
<span class="k">\framebox</span><span class="na">[⟨width⟩][⟨align⟩]</span><span class="p">{</span>…<span class="p">}</span>
</code></pre></div></div>

<p>可以通过<code class="highlighter-rouge">\setlength </code>命令（见5.2.1 小节）调节边框的宽度<code class="highlighter-rouge">\fboxrule</code> 和内边距<code class="highlighter-rouge">\fboxsep.</code></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="k">\framebox</span><span class="na">[10em][r]</span><span class="p">{</span>Test box<span class="p">}</span><span class="k">\\</span><span class="na">[1ex]</span>
<span class="k">\setlength</span><span class="p">{</span><span class="k">\fboxrule</span><span class="p">}{</span>1.6pt<span class="p">}</span>
<span class="k">\setlength</span><span class="p">{</span><span class="k">\fboxsep</span><span class="p">}{</span>1em<span class="p">}</span>
<span class="k">\framebox</span><span class="na">[10em][r]</span><span class="p">{</span>Test box<span class="p">}</span>
</code></pre></div></div>

<p><strong>8.3 垂直盒子</strong></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\parbox</span><span class="na">[⟨align⟩][⟨height⟩][⟨inner-align⟩]</span><span class="p">{</span>⟨width⟩<span class="p">}{</span>…<span class="p">}</span>
<span class="nt">\begin{minipage}</span>[⟨align⟩][⟨height⟩][⟨inner-align⟩]<span class="p">{</span>⟨width⟩<span class="p">}</span>
…
<span class="nt">\end{minipage}</span>
</code></pre></div></div>

<p>其中<code class="highlighter-rouge">⟨align⟩</code> 为盒子和周围文字的对齐情况（类似tabular 环境）；<code class="highlighter-rouge">⟨height⟩ </code>和<code class="highlighter-rouge">⟨inner-align⟩</code>设置盒子的高度和内容的对齐方式，类似水平盒子\makebox 的设置，不过<code class="highlighter-rouge">⟨inner-align⟩</code> 接受的参数是顶部<code class="highlighter-rouge">t</code>、底部<code class="highlighter-rouge">b</code>、居中<code class="highlighter-rouge">c</code> 和分散对齐<code class="highlighter-rouge">s</code>。</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
三字经：<span class="k">\parbox</span><span class="na">[t]</span><span class="p">{</span>3em<span class="p">}</span><span class="c">%</span>
<span class="p">{</span>人之初性本善性相近习相远<span class="p">}</span>
<span class="k">\quad</span>
千字文：
<span class="nt">\begin{minipage}</span>[b][8ex][t]<span class="p">{</span>4em<span class="p">}</span>
天地玄黄宇宙洪荒
<span class="nt">\end{minipage}</span>
</code></pre></div></div>

<ul>
  <li>如果在minipage 里使用\footnote 命令，生成的脚注会出现在盒子底部，编号是独立的，并且使用小写字母编号。而在\parbox 里无法正常使用\footnote 命令，只能在盒子里使用\footnotemark，在盒子外使用\footnotetext。</li>
</ul>

<p><strong>8.4 标尺盒子</strong></p>

<p><code class="highlighter-rouge">\rule</code> 命令用来画一个实心的矩形盒子，也可适当调整以用来画线（标尺）</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\rule</span><span class="na">[⟨raise⟩]</span><span class="p">{</span>⟨width⟩<span class="p">}{</span>⟨height⟩<span class="p">}</span>
</code></pre></div></div>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
Black <span class="k">\rule</span><span class="p">{</span>12pt<span class="p">}{</span>4pt<span class="p">}</span> box.
Upper <span class="k">\rule</span><span class="na">[4pt]</span><span class="p">{</span>6pt<span class="p">}{</span>8pt<span class="p">}</span> and
lower <span class="k">\rule</span><span class="na">[-4pt]</span><span class="p">{</span>6pt<span class="p">}{</span>8pt<span class="p">}</span> box.
A <span class="k">\rule</span><span class="na">[-.4pt]</span><span class="p">{</span>3em<span class="p">}{</span>.4pt<span class="p">}</span> line.
</code></pre></div></div>

<h3 id="9-浮动体">9. 浮动体</h3>

<p>LaTeX 预定义了两类浮动体环境figure 和table，令大块的内容可以脱离上下文，放置在合适的位置。</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{table}</span>[⟨placement⟩]
…
<span class="nt">\end{table}</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">⟨placement⟩</code> 参数提供了一些符号用来表示浮动体允许排版的位置，如<code class="highlighter-rouge">hbp</code> 允许浮动体排版在当前位置、底部或者单独成页。<code class="highlighter-rouge">table </code>和<code class="highlighter-rouge">figure </code>浮动体的默认设置为<code class="highlighter-rouge">tbp</code>。</p>

<p><img src="/images/posts/2019-10-15/htbp.png" alt="" /></p>

<ul>
  <li>排版位置的选取与参数里符号的顺序无关，LATEX 总是以h-t-b-p 的优先级顺序决定浮动体位置。也就是说[!htp] 和[ph!t] 没有区别</li>
  <li>限制包括浮动体个数（除单独成页外，默认每页不超过3 个浮动体，其中顶部不超过2 个，底部不超过1 个）以及浮动体空间占页面的百分比（默认顶部不超过70%，底部不超过30%）</li>
  <li>双栏排版环境下，LATEX 提供了<code class="highlighter-rouge">table* </code>和<code class="highlighter-rouge">figure*</code> 环境用来排版跨栏的浮动体, 用法与<code class="highlighter-rouge">table </code>和<code class="highlighter-rouge">figure </code>一样，不同之处为双栏的<code class="highlighter-rouge">⟨placement⟩</code> 参数只能用tp 两个位置。</li>
  <li><code class="highlighter-rouge">\clearpage </code>命令会在另起一页之前，先将所有推迟处理的浮动体排版成页，此时htbp 等位置限制被完全忽略。</li>
  <li><code class="highlighter-rouge">float </code>宏包为浮动体提供了<code class="highlighter-rouge">H</code> 位置参数，不与htbp 及! 混用。使用<code class="highlighter-rouge">H</code> 位置参数时，会取消浮动机制，将浮动体视为一般的盒子插入当前位置。这在一些特殊情况下很有用（如使用multicol宏包排版分栏内容的时候），但尺寸过大的浮动体可能使得分页比较困难。</li>
</ul>

<p><strong>9.1 浮动体的标题</strong></p>

<p>图表等浮动体提供了\caption 命令加标题，并且自动给浮动体编号</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\caption</span><span class="p">{</span>…<span class="p">}</span><span class="c">%带编号</span>
<span class="k">\caption*</span><span class="p">{</span>…<span class="p">}</span><span class="c">%不带编号</span>
<span class="k">\caption</span><span class="na">[…]</span><span class="p">{</span>…<span class="p">}</span><span class="c">%在目录里使用短标题</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">\caption</code>命令之后还可以紧跟<code class="highlighter-rouge">\label</code> 命令标记交叉引用。</li>
  <li><code class="highlighter-rouge">\caption</code> 生成的标题形如“Figure 1: …”（figure 环境）或“Table 1: …”（table 环境）。可通过修改<code class="highlighter-rouge">\figurename </code>和<code class="highlighter-rouge">\tablename </code>的内容来修改标题的前缀。标题样式的定制功能由<code class="highlighter-rouge">caption </code>宏包提供，</li>
  <li>table 和figure 两种浮动体分别有各自的生成目录的命令：<code class="highlighter-rouge">\listoftables</code>和<code class="highlighter-rouge">\listoffigures</code>
它们类似\tableofcontents 生成单独的章节。</li>
</ul>

<p><strong>9.2 并排和子图表</strong></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%一个标题</span>
<span class="nt">\begin{figure}</span>[htbp]
    <span class="k">\centering</span>
    <span class="k">\includegraphics</span><span class="na">[width=...]</span><span class="p">{</span>...<span class="p">}</span>
    <span class="k">\qquad</span>
    <span class="k">\includegraphics</span><span class="na">[width=...]</span><span class="p">{</span>...<span class="p">}</span> <span class="k">\\</span><span class="na">[..pt]</span>
    <span class="k">\includegraphics</span><span class="na">[width=...]</span><span class="p">{</span>...<span class="p">}</span>
    <span class="k">\caption</span><span class="p">{</span>...<span class="p">}</span>
<span class="nt">\end{figure}</span>
<span class="c">%多个标题</span>
<span class="nt">\begin{figure}</span>[htbp]
    <span class="k">\centering</span>
    <span class="nt">\begin{minipage}</span><span class="p">{</span>...<span class="p">}</span>
        <span class="k">\centering</span>
        <span class="k">\includegraphics</span><span class="na">[width=...]</span><span class="p">{</span>...<span class="p">}</span>
        <span class="k">\caption</span><span class="p">{</span>...<span class="p">}</span>
    <span class="nt">\end{minipage}</span>
    <span class="k">\qquad</span>
    <span class="nt">\begin{minipage}</span><span class="p">{</span>...<span class="p">}</span>
        <span class="k">\centering</span>
        <span class="k">\includegraphics</span><span class="na">[width=...]</span><span class="p">{</span>...<span class="p">}</span>
        <span class="k">\caption</span><span class="p">{</span>...<span class="p">}</span>
    <span class="nt">\end{minipage}</span>
<span class="nt">\end{figure}</span>
<span class="c">%小标题，用到subfig 宏包的功能</span>
<span class="nt">\begin{figure}</span>[htbp]
    <span class="k">\centering</span>
    <span class="k">\subfloat</span><span class="na">[...]</span><span class="p">{</span><span class="k">\label</span><span class="p">{</span>sub-fig-1<span class="p">}</span><span class="c">% 为子图加交叉引用</span>
        <span class="nt">\begin{minipage}</span><span class="p">{</span>...<span class="p">}</span>
            <span class="k">\centering</span>
            <span class="k">\includegraphics</span><span class="na">[width=...]</span><span class="p">{</span>...<span class="p">}</span>
        <span class="nt">\end{minipage}</span>
    <span class="p">}</span>
    <span class="k">\qquad</span>
    <span class="k">\subfloat</span><span class="na">[...]</span><span class="p">{</span> <span class="c">%</span>
        <span class="nt">\begin{minipage}</span><span class="p">{</span>...<span class="p">}</span>
            <span class="k">\centering</span>
            <span class="k">\includegraphics</span><span class="na">[width=...]</span><span class="p">{</span>...<span class="p">}</span>
        <span class="nt">\end{minipage}</span>
    <span class="p">}</span>
    <span class="k">\caption</span><span class="p">{</span>...<span class="p">}</span>
<span class="nt">\end{figure}</span>
</code></pre></div></div>

<h2 id="四排版数学公式">四、排版数学公式</h2>

<h3 id="1-ams宏集">1. AMS宏集</h3>

<p>AMS 宏集合是美国数学学会(AmericanMathematical Society) 提供的对LaTeX 原生的数学公式排版的扩展，其核心是<code class="highlighter-rouge">amsmath </code>宏包，对多行公式的排版提供了有力的支持。此外，<code class="highlighter-rouge">amsfonts </code>宏包以及基于它的<code class="highlighter-rouge">amssymb </code>宏包提供了丰富的数学符号；<code class="highlighter-rouge">amsthm </code>宏包扩展了LATEX 定理证明格式。</p>

<h3 id="2公式排版基础">2.公式排版基础</h3>

<ul>
  <li><strong>行内公式</strong>由一对<code class="highlighter-rouge">$</code>符号包裹</li>
  <li>单独成行的<strong>行间公式</strong>在LaTeX 里由<code class="highlighter-rouge">equation </code>环境包裹, <code class="highlighter-rouge">equation </code>环境为公式自动生成一个编号，这个编号可以用\label 和\ref 生成交叉引用。</li>
  <li><code class="highlighter-rouge">amsmath</code> 的<code class="highlighter-rouge">\eqref </code>命令甚至为引用<strong>自动加上圆括号</strong>；还可以用<code class="highlighter-rouge">\tag</code> 命令<strong>手动修改公式的编号</strong>，或者用<code class="highlighter-rouge">\notag </code>命令<strong>取消为公式编号</strong>（与之基本等效的命令是\nonumber）。</li>
  <li>需要直接使用<strong>不带编号的行间公式</strong>，则将公式用命令<code class="highlighter-rouge">\[</code> 和<code class="highlighter-rouge">\]</code> 包裹1，与之等效的是<code class="highlighter-rouge">displaymath </code>环境。有的人更喜欢<code class="highlighter-rouge">equation*</code> 环境.</li>
  <li>行间公式的<strong>对齐、编号位置等性质</strong>由文档类选项控制，文档类的fleqn 选项令行间公式左对齐；leqno 选项令编号放在公式左边。</li>
  <li><strong>数学模式</strong>
    <ul>
      <li>数学模式中输入的空格被忽略。数学符号的间距默认由符号的性质（关系符号、运算符等）决定。需要人为引入间距时，使用<code class="highlighter-rouge">\quad</code> 和<code class="highlighter-rouge">\qquad </code>等命令。</li>
      <li>不允许有空行（分段）。行间公式中也无法用<code class="highlighter-rouge">\\</code> 命令手动换行。</li>
      <li>所有的字母被当作数学公式中的变量处理，字母间距与文本模式不一致，也无法生成单词之间的空格。如果想在数学公式中输入正体的文本，简单情况下可用<code class="highlighter-rouge">\mathrm</code>命令。或者用<code class="highlighter-rouge">amsmath </code>提供的<code class="highlighter-rouge">\text </code>命令.</li>
    </ul>
  </li>
</ul>

<h3 id="3-数学符号">3. 数学符号</h3>

<ul>
  <li>
    <p><strong>一般符号</strong> $\alpha$(\alpha)、$\beta$ (\beta) 、$\Gamma$ (\Gamma)、$\Delta$ (\Delta) 、$\infty$ (\infty)，$\dots$ (\dots) 、$\cdots$ (\cdots)、$\vdots$(\vdots)、$\ddots$(\ddots)</p>

    <ul>
      <li>\ldots 和\dots 是完全等效的，它们既能用在公式中，也用来在文本里作为省略号</li>
    </ul>
  </li>
  <li>
    <p><strong>指数、上下标和导数</strong></p>

    <ul>
      <li>用<code class="highlighter-rouge">^</code> 和<code class="highlighter-rouge">_</code> 标明上下标。注意上下标的内容（子公式）<strong>一般需要用花括号包裹</strong>，否则上下标只对后面的一个符号起作用。</li>
      <li>导数符号’(<code class="highlighter-rouge">′</code>) 是一类特殊的上标</li>
    </ul>
  </li>
  <li>
    <p><strong>分式和根式</strong></p>

    <ul>
      <li>分式使用<code class="highlighter-rouge">\frac{分子}{分母} </code>来书写</li>
      <li>amsmath 提供了方便的命令<code class="highlighter-rouge">\dfrac</code> 和<code class="highlighter-rouge">\tfrac</code>，令用户能够在行内使用正常大小的分式，或是反过来。</li>
      <li>一般的根式使用<code class="highlighter-rouge">\sqrt{...}</code>；表示n 次方根时写成<code class="highlighter-rouge">\sqrt[n]{...}</code>。</li>
      <li>特殊的分式形式，如二项式结构，由<code class="highlighter-rouge">amsmath </code>宏包的<code class="highlighter-rouge">\binom</code> 命令生成：$\binom{n}{k} =\binom{n-1}{k}-\binom{n-1}{k-1}$</li>
    </ul>
  </li>
  <li>
    <p><strong>关系符</strong></p>

    <ul>
      <li>直接输入的=，&gt;，&lt;</li>
      <li>不等号$\ne$ (<code class="highlighter-rouge">\ne</code>)、大于等于号$\ge$ (<code class="highlighter-rouge">\ge</code>) 和小于等于号$\le$ (<code class="highlighter-rouge">\le</code>)、约等号$\approx$ (<code class="highlighter-rouge">\approx</code>)、等价$\equiv$(<code class="highlighter-rouge">\equiv</code>)、正比$\propto$ (<code class="highlighter-rouge">\propto</code>)、相似$\sim$(<code class="highlighter-rouge">\sim</code>) 等等</li>
      <li>自定义二元关系符的命令<code class="highlighter-rouge">\stackrel</code>，用于将一个符号叠加在原有的二元关系符之上：$f_n(x) \stackrel{*}{\approx} 1$</li>
    </ul>
  </li>
  <li>
    <p><strong>算符</strong></p>

    <ul>
      <li>
        <p><code class="highlighter-rouge">+、-、*、=</code>直接键盘输入</p>
      </li>
      <li>
        <p>乘号$\times$ (<code class="highlighter-rouge">\times</code>)、除号$\div$ (<code class="highlighter-rouge">\div</code>)、点乘$\cdot$(<code class="highlighter-rouge">\cdot</code>)、加减号$\pm$(<code class="highlighter-rouge">\pm</code>) / $\mp$ (<code class="highlighter-rouge">\mp</code>)</p>
      </li>
      <li>
        <p>$\nabla$ (<code class="highlighter-rouge">\nabla</code>) 、$\partial$ (<code class="highlighter-rouge">\partial</code>)</p>
      </li>
      <li>
        <p>算符的函数名称一览。</p>

        <p><img src="/images/posts/2019-10-15/math.png" alt="" /></p>
      </li>
      <li>
        <p>求模表达式<code class="highlighter-rouge">\pmod</code> 和<code class="highlighter-rouge">\bmod</code> 命令</p>
      </li>
      <li>
        <p>amsmath 允许用户用<code class="highlighter-rouge">\DeclareMathOperator</code> 定义自己的算符，其中带星号的命令定义带上下限的算符：</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\DeclareMathOperator</span><span class="p">{</span><span class="k">\argh</span><span class="p">}{</span>argh<span class="p">}</span>
<span class="k">\DeclareMathOperator*</span><span class="p">{</span><span class="k">\nut</span><span class="p">}{</span>Nut<span class="p">}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>巨算符</strong></p>

    <ul>
      <li>
        <p>$\int$(\int)、$\sum$(\sum)、$\oint$(\oint)，$\prod$(\prod)</p>
      </li>
      <li>
        <p>巨算符在行内公式和行间公式的大小和形状有区别</p>
      </li>
      <li>
        <p>巨算符的上下标位置可由<code class="highlighter-rouge">\limits</code> 和<code class="highlighter-rouge">\nolimits</code> 控制，前者令巨算符类似<code class="highlighter-rouge">lim</code> 或求和算符$\sum$，上下标位于上下方；后者令巨算符类似积分号，上下标位于右上方和右下方。$\sum \limits_{x=1}^n$、$\sum \nolimits_{x=1}^n$</p>
      </li>
      <li>
        <p>amsmath 宏包还提供了<code class="highlighter-rouge">\substack</code>，能够在下限位置书写多行表达式；<code class="highlighter-rouge">subarray </code>环境更进
一步，令多行表达式可选择居中(c) 或左对齐(l)：</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="p">\[</span><span class="nb">
</span><span class="nv">\sum</span><span class="p">_{</span><span class="nv">\substack</span><span class="p">{</span><span class="m">0</span><span class="nv">\le</span><span class="nb"> i</span><span class="nv">\le</span><span class="nb"> n </span><span class="nv">\\</span><span class="nb">
j</span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\mathbb</span><span class="p">{</span><span class="nb">R</span><span class="p">}}}</span><span class="nb">
P</span><span class="o">(</span><span class="nb">i,j</span><span class="o">)</span><span class="nb"> </span><span class="o">=</span><span class="nb"> Q</span><span class="o">(</span><span class="nb">n</span><span class="o">)</span><span class="nb">
</span><span class="p">\]</span>
<span class="p">\[</span><span class="nb">
</span><span class="nv">\sum</span><span class="p">_{</span><span class="nv">\begin</span><span class="p">{</span><span class="nb">subarray</span><span class="p">}{</span><span class="nb">l</span><span class="p">}</span><span class="nb">
    </span><span class="m">0</span><span class="nv">\le</span><span class="nb"> i</span><span class="nv">\le</span><span class="nb"> n </span><span class="nv">\\</span><span class="nb">
    j</span><span class="nv">\in</span><span class="nb"> </span><span class="nv">\mathbb</span><span class="p">{</span><span class="nb">R</span><span class="p">}</span><span class="nb">
</span><span class="nv">\end</span><span class="p">{</span><span class="nb">subarray</span><span class="p">}}</span><span class="nb">
P</span><span class="o">(</span><span class="nb">i,j</span><span class="o">)</span><span class="nb"> </span><span class="o">=</span><span class="nb"> Q</span><span class="o">(</span><span class="nb">n</span><span class="o">)</span><span class="nb">
</span><span class="p">\]</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>数学重音和上下括号</strong></p>

    <ul>
      <li>
        <p>$\dot{r}$(<code class="highlighter-rouge">\dot{r}</code>)、$\ddot{r}$ (<code class="highlighter-rouge">\ddot{r}</code>)、$\vec{r}$ (<code class="highlighter-rouge">\vec{r}</code>) 、$\hat{\mathbf{e}}$ (<code class="highlighter-rouge">\hat{\mathbf{e}}</code>)</p>
      </li>
      <li>使用时要注意重音符号的作用区域，一般应当对某个符号而不是“符号加下标”使用重音</li>
      <li>包括直接画线的<code class="highlighter-rouge">\overline </code>和<code class="highlighter-rouge">\underline</code> 命令，宽重音符号<code class="highlighter-rouge">\widehat</code>、表示向量的箭头<code class="highlighter-rouge">\overrightarrow</code> 等</li>
      <li><code class="highlighter-rouge">\overbrace </code>和<code class="highlighter-rouge">\underbrace</code> 命令用来生成上/下括号，各自可带一个上/下标公式。</li>
    </ul>
  </li>
  <li>
    <p><strong>箭头</strong></p>

    <ul>
      <li>$\rightarrow$   <code class="highlighter-rouge">\rightarrow</code> (或<code class="highlighter-rouge">\to</code>)、$\leftarrow$ \leftarrow（ 或\gets）</li>
      <li>amsmath 的<code class="highlighter-rouge">\xleftarrow</code> 和<code class="highlighter-rouge">\xrightarrow</code> 命令提供了长度可以伸展的箭头，并且可以为
箭头增加上下标：$c\xrightarrow[x&lt;y]{a<em>b</em>c}d $    (<code class="highlighter-rouge"> c\xrightarrow[x&lt;y]{a*b*c}d </code>)</li>
    </ul>
  </li>
  <li>
    <p><strong>括号和定界符</strong></p>

    <ul>
      <li>小括号()、中括号[]、大括号{}（<code class="highlighter-rouge">\{\}</code>）、尖括号⟨⟩ （<code class="highlighter-rouge">\langle \rangle</code>）</li>
      <li><code class="highlighter-rouge">\left</code> 和<code class="highlighter-rouge">\right</code> 命令可令括号（定界符）的大小可变，在行间公式中常用。</li>
      <li><code class="highlighter-rouge">\left</code> 和<code class="highlighter-rouge">\right</code> 必须成对使用。需要使用单个定界符时，另一个定界符写成<code class="highlighter-rouge">\left. </code>或<code class="highlighter-rouge">\right.</code></li>
      <li>我们还可以用<code class="highlighter-rouge">\big</code>、<code class="highlighter-rouge">\Big</code>、<code class="highlighter-rouge">\bigg</code>、<code class="highlighter-rouge">\Bigg</code>等命令生成固定大小的定界符。更常用的形式是类似<code class="highlighter-rouge">\left</code> 的<code class="highlighter-rouge">\bigl</code>、<code class="highlighter-rouge">\biggl </code>等，以及类似<code class="highlighter-rouge">\right </code>的<code class="highlighter-rouge">\bigr</code>、<code class="highlighter-rouge">\biggr</code> 等（<code class="highlighter-rouge">\bigl</code> 和<code class="highlighter-rouge">\big</code>r 不必成对出现）。</li>
      <li>用<code class="highlighter-rouge">\left </code>和<code class="highlighter-rouge">\right </code>分界符包裹的公式块是不允许断行的，也不允许在多行公式里跨行使用 ,而<code class="highlighter-rouge">\big</code> 和<code class="highlighter-rouge">\bigg</code> 等命令不受限制。</li>
    </ul>
  </li>
</ul>

<h3 id="4多行公式">4.多行公式</h3>

<ul>
  <li>
    <p><strong>长公式折行</strong></p>

    <ul>
      <li>
        <p>通常来讲应当避免写出超过一行而需要折行的长公式。如果一定要折行的话，习惯上优先在等号之前折行，其次在加号、减号之前，再次在乘号、除号之前。其它位置应当避免折行。</p>
      </li>
      <li>
        <p><code class="highlighter-rouge">amsmath</code> 宏包的<code class="highlighter-rouge">multline</code> 环境提供了书写折行长公式的方便环境。它允许用<code class="highlighter-rouge">\\ </code>折行，将公式编号放在最后一行。多行公式的首行左对齐，末行右对齐，其余行居中。</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{multline}</span>
a + b + c + d + e + f
+ g + h + i <span class="k">\\</span>
= j + k + l + m + n<span class="k">\\</span>
= o + p + q + r + s<span class="k">\\</span>
= t + u + v + x + z
<span class="nt">\end{multline}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p><code class="highlighter-rouge">multline*</code> 环境排版不带编号的折行长公式。</p>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>多行公式</strong></p>

    <ul>
      <li>
        <p>目前最常用的是<code class="highlighter-rouge">align</code> 环境，它将公式用<code class="highlighter-rouge">&amp;</code> 隔为两部分并对齐。分隔符通常放在等号左边</p>
      </li>
      <li>
        <p><code class="highlighter-rouge">align</code> 环境会给每行公式都编号。我们仍然可以用<code class="highlighter-rouge">\notag</code> 去掉某行的编号</p>
      </li>
      <li>
        <p>为了对齐加号，我们将分隔符放在等号右边，这时需要给等号后添加一对括号{} 以产生正常的间距</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{align}</span>
a 	=<span class="p">{}</span> <span class="p">&amp;</span> b + c <span class="k">\\</span>
	=<span class="p">{}</span> <span class="p">&amp;</span> d + e + f + g + h + i
		+ j + k + l <span class="k">\notag</span> <span class="k">\\</span>
		<span class="p">&amp;</span> + m + n + o <span class="k">\\</span>
	=<span class="p">{}</span> <span class="p">&amp;</span> p + q + r + s
<span class="nt">\end{align}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p><code class="highlighter-rouge">align </code>还能够对齐多组公式，除等号前的&amp; 之外，公式之间也用&amp; 分隔：</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{align}</span>
    a <span class="p">&amp;</span>=1 <span class="p">&amp;</span> b <span class="p">&amp;</span>=2 <span class="p">&amp;</span> c <span class="p">&amp;</span>=3 <span class="k">\\</span>
    d <span class="p">&amp;</span>=-1 <span class="p">&amp;</span> e <span class="p">&amp;</span>=-2 <span class="p">&amp;</span> f <span class="p">&amp;</span>=-5
<span class="nt">\end{align}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>如果我们不需要按等号对齐，只需罗列数个公式，<code class="highlighter-rouge">gather </code>将是一个很好用的环境：</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{gather}</span>
a = b + c <span class="k">\\</span>
d = e + f + g <span class="k">\\</span>
h + i = j + k <span class="k">\notag</span> <span class="k">\\</span>
l + m = n
<span class="nt">\end{gather}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>公用编号的多行公式</strong></p>

    <ul>
      <li>amsmath 宏包提供了诸如<code class="highlighter-rouge">aligned</code>、<code class="highlighter-rouge">gathered </code>等环境，与<code class="highlighter-rouge">equation </code>环境套用</li>
    </ul>
  </li>
</ul>

<h3 id="5-数组和矩阵">5. 数组和矩阵</h3>

<p>为了排版二维数组，LATEX 提供了<code class="highlighter-rouge">array </code>环境，用法与<code class="highlighter-rouge">tabular </code>环境极为类似，也需要定义列格式，并用<code class="highlighter-rouge">\\ </code>换行。数组可作为一个公式块，在外套用<code class="highlighter-rouge">\left</code>、<code class="highlighter-rouge">\right</code> 等定界符：</p>

<ul>
  <li><code class="highlighter-rouge">amsmath </code>提供的<code class="highlighter-rouge">cases </code>环境比<code class="highlighter-rouge">array</code>环境更轻松地完成下面的效果。</li>
</ul>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%使用array</span>
<span class="p">\[</span><span class="nb"> |x| </span><span class="o">=</span><span class="nb"> </span><span class="nv">\left\{</span><span class="nb">
</span><span class="nv">\begin</span><span class="p">{</span><span class="nb">array</span><span class="p">}{</span><span class="nb">rl</span><span class="p">}</span><span class="nb">
</span><span class="o">-</span><span class="nb">x </span><span class="p">&amp;</span><span class="nb"> </span><span class="nv">\text</span><span class="p">{</span><span class="nb">if </span><span class="p">}</span><span class="nb"> x &lt; </span><span class="m">0</span><span class="nb">,</span><span class="nv">\\</span><span class="nb">
</span><span class="m">0</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> </span><span class="nv">\text</span><span class="p">{</span><span class="nb">if </span><span class="p">}</span><span class="nb"> x </span><span class="o">=</span><span class="nb"> </span><span class="m">0</span><span class="nb">,</span><span class="nv">\\</span><span class="nb">
x </span><span class="p">&amp;</span><span class="nb"> </span><span class="nv">\text</span><span class="p">{</span><span class="nb">if </span><span class="p">}</span><span class="nb"> x &gt; </span><span class="m">0</span><span class="nb">.
</span><span class="nv">\end</span><span class="p">{</span><span class="nb">array</span><span class="p">}</span><span class="nb"> </span><span class="nv">\right</span><span class="nb">. </span><span class="p">\]</span>

<span class="c">%使用case</span>
<span class="p">\[</span><span class="nb"> |x| </span><span class="o">=</span><span class="nb">
</span><span class="nv">\begin</span><span class="p">{</span><span class="nb">cases</span><span class="p">}</span><span class="nb">
</span><span class="o">-</span><span class="nb">x </span><span class="p">&amp;</span><span class="nb"> </span><span class="nv">\text</span><span class="p">{</span><span class="nb">if </span><span class="p">}</span><span class="nb"> x &lt; </span><span class="m">0</span><span class="nb">,</span><span class="nv">\\</span><span class="nb">
</span><span class="m">0</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> </span><span class="nv">\text</span><span class="p">{</span><span class="nb">if </span><span class="p">}</span><span class="nb"> x </span><span class="o">=</span><span class="nb"> </span><span class="m">0</span><span class="nb">,</span><span class="nv">\\</span><span class="nb">
x </span><span class="p">&amp;</span><span class="nb"> </span><span class="nv">\text</span><span class="p">{</span><span class="nb">if </span><span class="p">}</span><span class="nb"> x &gt; </span><span class="m">0</span><span class="nb">.
</span><span class="nv">\end</span><span class="p">{</span><span class="nb">cases</span><span class="p">}</span><span class="nb"> </span><span class="p">\]</span>
</code></pre></div></div>

<ul>
  <li>
    <table>
      <tbody>
        <tr>
          <td>amsmath 宏包还直接提供了多种排版矩阵的环境，包括不带定界符的<code class="highlighter-rouge">matrix</code>，以及带各种定界符的矩阵<code class="highlighter-rouge">pmatrix</code>（(）、<code class="highlighter-rouge">bmatrix</code>（[）、<code class="highlighter-rouge">Bmatrix</code>（{）、<code class="highlighter-rouge">vmatrix</code>（$</td>
          <td>$）、<code class="highlighter-rouge">Vmatrix</code>（$|$）</td>
        </tr>
      </tbody>
    </table>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">\[</span><span class="c">%示例代码</span><span class="nb">
</span><span class="nv">\begin</span><span class="p">{</span><span class="nb">matrix</span><span class="p">}</span><span class="nb">
</span><span class="m">1</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> </span><span class="m">2</span><span class="nb"> </span><span class="nv">\\</span><span class="nb"> </span><span class="m">3</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> </span><span class="m">4</span><span class="nb">
</span><span class="nv">\end</span><span class="p">{</span><span class="nb">matrix</span><span class="p">}</span><span class="nb"> </span><span class="nv">\qquad</span><span class="nb">
</span><span class="nv">\begin</span><span class="p">{</span><span class="nb">bmatrix</span><span class="p">}</span><span class="nb">
x</span><span class="p">_{</span><span class="m">11</span><span class="p">}</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> x</span><span class="p">_{</span><span class="m">12</span><span class="p">}</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> </span><span class="nv">\ldots</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> x</span><span class="p">_{</span><span class="m">1</span><span class="nb">n</span><span class="p">}</span><span class="nv">\\</span><span class="nb">
x</span><span class="p">_{</span><span class="m">21</span><span class="p">}</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> x</span><span class="p">_{</span><span class="m">22</span><span class="p">}</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> </span><span class="nv">\ldots</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> x</span><span class="p">_{</span><span class="m">2</span><span class="nb">n</span><span class="p">}</span><span class="nv">\\</span><span class="nb">
</span><span class="nv">\vdots</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> </span><span class="nv">\vdots</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> </span><span class="nv">\ddots</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> </span><span class="nv">\vdots\\</span><span class="nb">
x</span><span class="p">_{</span><span class="nb">n</span><span class="m">1</span><span class="p">}</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> x</span><span class="p">_{</span><span class="nb">n</span><span class="m">2</span><span class="p">}</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> </span><span class="nv">\ldots</span><span class="nb"> </span><span class="p">&amp;</span><span class="nb"> x</span><span class="p">_{</span><span class="nb">nn</span><span class="p">}</span><span class="nv">\\</span><span class="nb">
</span><span class="nv">\end</span><span class="p">{</span><span class="nb">bmatrix</span><span class="p">}</span><span class="nb">
</span><span class="p">\]</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="6公式中的间距">6.公式中的间距</h3>

<p><img src="/images/posts/2019-10-15/jianju.png" alt="" /></p>

<ul>
  <li>注意微元里的d 用的是直立体：$\int_a^b f(x)\mathrm{d}x \qquad
\int_a^b f(x)\,\mathrm{d}x$( <code class="highlighter-rouge">\int_a^b f(x)\mathrm{d}x \qquad
 \int_a^b f(x)\,\mathrm{d}x</code>)</li>
  <li><code class="highlighter-rouge">amsmath </code>提供二重积分<code class="highlighter-rouge">\iint</code>、三重积分<code class="highlighter-rouge">\iiint </code>等</li>
</ul>

<h3 id="7-数学符号的字体控制">7. 数学符号的字体控制</h3>

<ul>
  <li>
    <p><strong>数学字母字体</strong>  $\mathcal{R} \quad \mathfrak{R} \quad \mathbb{R}$  (<code class="highlighter-rouge">\mathcal{R} \quad \mathfrak{R} \quad \mathbb{R}</code>)</p>

    <p><img src="/images/posts/2019-10-15/ziti.png" alt="" /></p>
  </li>
  <li>
    <p><strong>数学符号的尺寸</strong></p>

    <p><img src="/images/posts/2019-10-15/chicun.png" alt="" /></p>

    <ul>
      <li>
        <p>行间公式的分式内，分子分母使用行内公式尺寸，巨算符采用行内尺寸的形式。</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">\[</span><span class="c">%示例代码</span><span class="nb">
P </span><span class="o">=</span><span class="nb"> </span><span class="nv">\frac</span><span class="nb">
</span><span class="p">{</span><span class="nv">\sum</span><span class="p">_{</span><span class="nb">i</span><span class="o">=</span><span class="m">1</span><span class="p">}^</span><span class="nb">n </span><span class="o">(</span><span class="nb">x</span><span class="p">_</span><span class="nb">i</span><span class="o">-</span><span class="nb"> x</span><span class="o">)(</span><span class="nb">y</span><span class="p">_</span><span class="nb">i</span><span class="o">-</span><span class="nb"> y</span><span class="o">)</span><span class="p">}</span><span class="nb">
</span><span class="p">{</span><span class="nv">\displaystyle</span><span class="nb"> </span><span class="nv">\left</span><span class="o">[</span><span class="nb">
</span><span class="nv">\sum</span><span class="p">_{</span><span class="nb">i</span><span class="o">=</span><span class="m">1</span><span class="p">}^</span><span class="nb">n </span><span class="o">(</span><span class="nb">x</span><span class="p">_</span><span class="nb">i</span><span class="o">-</span><span class="nb">x</span><span class="o">)</span><span class="p">^</span><span class="m">2</span><span class="nb">
</span><span class="nv">\sum</span><span class="p">_{</span><span class="nb">i</span><span class="o">=</span><span class="m">1</span><span class="p">}^</span><span class="nb">n </span><span class="o">(</span><span class="nb">y</span><span class="p">_</span><span class="nb">i</span><span class="o">-</span><span class="nb">y</span><span class="o">)</span><span class="p">^</span><span class="m">2</span><span class="nb">
</span><span class="nv">\right</span><span class="o">]</span><span class="p">^{</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="p">}</span><span class="nb"> </span><span class="p">}</span><span class="nb">
</span><span class="p">\]</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>加粗的数学符号</strong></p>

    <ul>
      <li><code class="highlighter-rouge">amsmath </code>提供了一个<code class="highlighter-rouge">\boldsymbol </code>命令（由调用的<code class="highlighter-rouge">amsbsy </code>宏包提供），用于打破<code class="highlighter-rouge">\boldmath</code>的限制,在公式内部将一部分符号切换为粗体。</li>
      <li>LaTeX工具宏集之一的<code class="highlighter-rouge">bm </code>宏包可以用<code class="highlighter-rouge">\bm</code> 命令生成“伪粗体”，一定程度上解决了不带粗体版本的符号的问题。</li>
    </ul>
  </li>
</ul>

<h3 id="8-定理环境">8. 定理环境</h3>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\newtheorem</span><span class="p">{</span>⟨theorem environment⟩<span class="p">}{</span>⟨title⟩<span class="p">}</span>[⟨section-level⟩]
<span class="k">\newtheorem</span><span class="p">{</span>⟨theorem environment⟩<span class="p">}</span>[⟨counter⟩]<span class="p">{</span>⟨title⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">⟨theorem environment⟩ </code>为定理环境的名称。原始的LaTeX 里没有现成的定理环境，不加定义而直接使用很可能会出错。<code class="highlighter-rouge">⟨title⟩</code> 是定理环境的标题（“定理”，“公理”等）。</li>
  <li><code class="highlighter-rouge">⟨section level⟩</code> 为章节级别，如chapter、section 等，定理序号成为章节的下一级序号；</li>
  <li><code class="highlighter-rouge">⟨counter⟩</code> 为用\newcounter 自定义的计数器名称，定理序号由这个计数器管理。</li>
</ul>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="k">\newtheorem</span><span class="p">{</span>mythm<span class="p">}{</span>My Theorem<span class="p">}</span>[section]
<span class="nt">\begin{mythm}</span><span class="k">\label</span><span class="p">{</span>thm:light<span class="p">}</span>
The light speed in vacuum
is <span class="p">$</span><span class="m">299</span><span class="nb">,</span><span class="m">792</span><span class="nb">,</span><span class="m">458</span><span class="nv">\,\mathrm</span><span class="p">{</span><span class="nb">m</span><span class="o">/</span><span class="nb">s</span><span class="p">}$</span>.
<span class="nt">\end{mythm}</span>
<span class="nt">\begin{mythm}</span>[Energy-momentum relation]
The relationship of energy,
momentum and mass is
<span class="p">\[</span><span class="nb">E</span><span class="p">^</span><span class="m">2</span><span class="nb"> </span><span class="o">=</span><span class="nb"> m</span><span class="p">_</span><span class="m">0</span><span class="p">^</span><span class="m">2</span><span class="nb"> c</span><span class="p">^</span><span class="m">4</span><span class="nb"> </span><span class="o">+</span><span class="nb"> p</span><span class="p">^</span><span class="m">2</span><span class="nb"> c</span><span class="p">^</span><span class="m">2</span><span class="p">\]</span>
where <span class="p">$</span><span class="nb">c</span><span class="p">$</span> is the light speed
described in theorem <span class="k">\ref</span><span class="p">{</span>thm:light<span class="p">}</span>.
<span class="nt">\end{mythm}</span>
</code></pre></div></div>

<p>默认的定理环境格式为粗体标签、斜体正文、定理名用小括号包裹，如果需要修改格式，则要依赖其它的宏包，如amsthm、ntheorem 等等。</p>

<ul>
  <li>amsthm 提供了<code class="highlighter-rouge">\theoremstyle</code> 命令支持定理格式的切换，在用<code class="highlighter-rouge">\newtheorem</code> 命令定义定理环境之前使用。<code class="highlighter-rouge">amsthm </code>预定义了三种格式用于<code class="highlighter-rouge">\theoremstyle</code>：<code class="highlighter-rouge">plain </code>和LaTeX 原始的格式一致；<code class="highlighter-rouge">definition </code>使用粗体标签、正体内容；<code class="highlighter-rouge">remark </code>使用斜体标签、正体内容。</li>
</ul>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%定义的jury 环境与law 环境共用编号，mar 环境不编号：</span>
<span class="k">\theoremstyle</span><span class="p">{</span>definition<span class="p">}</span> <span class="k">\newtheorem</span><span class="p">{</span>law<span class="p">}{</span>Law<span class="p">}</span>
<span class="k">\theoremstyle</span><span class="p">{</span>plain<span class="p">}</span> <span class="k">\newtheorem</span><span class="p">{</span>jury<span class="p">}</span>[law]<span class="p">{</span>Jury<span class="p">}</span>
<span class="k">\theoremstyle</span><span class="p">{</span>remark<span class="p">}</span> <span class="k">\newtheorem*</span><span class="p">{</span>mar<span class="p">}{</span>Margaret<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>amsthm 还支持使用\newtheoremstyle 命令自定义定理格式，更为方便使用的是ntheorem
宏包。感兴趣的读者可参阅它们的帮助文档。</li>
</ul>

<p>amsthm 还提供了一个<strong>proof 环境</strong>用于排版定理的证明过程。proof 环境末尾自动加上一个证毕符号</p>

<ul>
  <li>
    <p>如果行末是一个不带编号的公式， 符号会另起一行，这时可使用<code class="highlighter-rouge">\qedhere </code>命令将符号放在公式末尾：</p>
  </li>
  <li>
    <p>证毕符号本身被定义在命令<code class="highlighter-rouge">\qedsymbol</code> 中，如果有使用实心符号作为证毕符号的需求，需要自行用<code class="highlighter-rouge">\renewcommand</code> 命令修改</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="k">\renewcommand</span><span class="p">{</span><span class="k">\qedsymbol</span><span class="p">}{</span><span class="k">\rule</span><span class="p">{</span>1ex<span class="p">}{</span>1.5ex<span class="p">}}</span>
<span class="nt">\begin{proof}</span>
For simplicity, we use
<span class="p">\[</span><span class="nb">
E</span><span class="o">=</span><span class="nb">mc</span><span class="p">^</span><span class="m">2</span><span class="nb"> </span><span class="nv">\qedhere</span><span class="nb">
</span><span class="p">\]</span>
<span class="nt">\end{proof}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="9-符号表">9. 符号表</h3>

<ul>
  <li>
    <p>蓝色的命令依赖<code class="highlighter-rouge">amsmath </code>宏包（非<code class="highlighter-rouge">amssymb </code>宏包）；</p>
  </li>
  <li>
    <p>带有角标ℓ 的符号命令依赖<code class="highlighter-rouge">latexsym </code>宏包。</p>
  </li>
</ul>

<p><strong>文本/数学模式通用符号</strong></p>

<p><img src="/images/posts/2019-10-15/sign1.png" alt="" /></p>

<p><strong>希腊字母</strong></p>

<p><img src="/images/posts/2019-10-15/sign2.png" alt="" /></p>

<p><strong>二元关系符</strong></p>

<p><img src="/images/posts/2019-10-15/sign3.png" alt="" /></p>

<p><strong>二元运算符</strong></p>

<p><img src="/images/posts/2019-10-15/sign4.png" alt="" /></p>

<p><strong>巨算符</strong></p>

<p><img src="/images/posts/2019-10-15/sign5.png" alt="" /></p>

<p><strong>数学重音符号</strong></p>

<p><img src="/images/posts/2019-10-15/sign6.png" alt="" /></p>

<p><strong>箭头</strong></p>

<p><img src="/images/posts/2019-10-15/sign7.png" alt="" /></p>

<p><strong>作为重音的箭头符号</strong></p>

<p><img src="/images/posts/2019-10-15/sign8.png" alt="" /></p>

<p><strong>定界符</strong></p>

<p><img src="/images/posts/2019-10-15/sign9.png" alt="" /></p>

<p><strong>用于行间公式的大定界符</strong></p>

<p><img src="/images/posts/2019-10-15/sign10.png" alt="" /></p>

<p><strong>其他符号</strong></p>

<p><img src="/images/posts/2019-10-15/sign11.png" alt="" /></p>

<p><strong>AMS 希腊字母和希伯来字母</strong></p>

<p><img src="/images/posts/2019-10-15/sign12.png" alt="" /></p>

<p><strong>AMS 二元关系符</strong></p>

<p><img src="/images/posts/2019-10-15/sign13.png" alt="" /></p>

<p><strong>AMS 二元运算符</strong></p>

<p><img src="/images/posts/2019-10-15/sign14.png" alt="" /></p>

<p><strong>AMS 箭头</strong></p>

<p><img src="/images/posts/2019-10-15/sign15.png" alt="" /></p>

<p><strong>AMS 反义二元关系符和箭头</strong></p>

<p><img src="/images/posts/2019-10-15/sign16.png" alt="" /></p>

<p><strong>AMS 定界符</strong></p>

<p><img src="/images/posts/2019-10-15/sign17.png" alt="" /></p>

<p><strong>AMS 其它符号</strong></p>

<p><img src="/images/posts/2019-10-15/sign18.png" alt="" /></p>

<h2 id="五排版样式设定">五、排版样式设定</h2>

<h3 id="1-字体和字号">1. 字体和字号</h3>

<p><strong>字体命令</strong></p>

<p><img src="/images/posts/2019-10-15/zitimingling.png" alt="" /></p>

<p><strong>字号命令</strong></p>

<p><img src="/images/posts/2019-10-15/zihao.png" alt="" /></p>

<p>标准文档类中的字号大小</p>

<p><img src="/images/posts/2019-10-15/zihao2.png" alt="" /></p>

<ul>
  <li><code class="highlighter-rouge">\fontsize{⟨size⟩}{⟨base line-skip⟩}</code>设定任意大小的字号</li>
  <li>
    <p>如果想要让它在局部生效，需要用花括号分组</p>
  </li>
  <li>
    <p><strong>切换字体编码</strong>要用到fontenc 宏包：<code class="highlighter-rouge">\usepackage[T1]{fontenc}</code>,LaTeX 默认使用兼容plain TEX 的OT1 编码</p>
  </li>
  <li>
    <p><strong>更改字体</strong></p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\setmainfont</span><span class="na">[⟨font features⟩]</span><span class="p">{</span>⟨font name⟩<span class="p">}</span>
<span class="k">\setsansfont</span><span class="na">[⟨font features⟩]</span><span class="p">{</span>⟨font name⟩<span class="p">}</span>
<span class="k">\setmonofont</span><span class="na">[⟨font features⟩]</span><span class="p">{</span>⟨font name⟩<span class="p">}</span>
</code></pre></div>    </div>

    <ul>
      <li>
        <p><code class="highlighter-rouge">⟨font name⟩</code> 使用字体的文件名（带扩展名）或者字体的英文名称。<code class="highlighter-rouge">⟨font features⟩</code> 用来手动配置对应的粗体或斜体，比如为Windows 下的无衬线字体Arial 配置粗体和斜体</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\setsansfont</span><span class="na">[BoldFont={Arial Bold}, ItalicFont={Arial Italic}]</span><span class="p">{</span>Arial<span class="p">}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p><strong>更改中文字体</strong></p>

    <ul>
      <li>xeCJK 宏包使用了和fontspec 宏包非常类似的语法设置中文字体</li>
    </ul>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\setCJKmainfont</span><span class="na">[⟨font features⟩]</span><span class="p">{</span>⟨font name⟩<span class="p">}</span>
<span class="k">\setCJKsansfont</span><span class="na">[⟨font features⟩]</span><span class="p">{</span>⟨font name⟩<span class="p">}</span>
<span class="k">\setCJKmonofont</span><span class="na">[⟨font features⟩]</span><span class="p">{</span>⟨font name⟩<span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="2-段落格式和间距">2. 段落格式和间距</h3>

<p><strong>2.1 长度和长度变量</strong></p>

<p><strong>长度单位</strong></p>

<p><img src="/images/posts/2019-10-15/changdudanwei.png" alt="" /></p>

<ul>
  <li>
    <p>可伸缩的“弹性长度”，如<code class="highlighter-rouge">12pt plus 2pt minus 3pt</code> 表示基础长度为12pt，可以伸展到14pt ，也可以收缩到9pt。</p>
  </li>
  <li>
    <p>长度的数值还可以用长度变量本身或其倍数来表达，如2.5\parindent 等</p>
  </li>
  <li>
    <p>LaTeX 预定义了大量的长度变量用于控制版面格式。如页面宽度和高度、首行缩进、段落间距等。如果需要自定义长度变量，需使用<code class="highlighter-rouge">\newlength</code>命令,长度变量可以用<code class="highlighter-rouge">\setlength</code> 赋值，或用<code class="highlighter-rouge">\addtolength</code> 增加长度：</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\newlength</span><span class="p">{</span><span class="k">\⟨</span>length command⟩<span class="p">}</span>
<span class="k">\setlength</span><span class="p">{</span><span class="k">\⟨</span>length command⟩<span class="p">}{</span>⟨length⟩<span class="p">}</span>
<span class="k">\addtolength</span><span class="p">{</span><span class="k">\⟨</span>length command⟩<span class="p">}{</span>⟨length⟩<span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><strong>2.2 行距</strong></p>

<p><code class="highlighter-rouge">\linespread{⟨factor⟩}</code></p>

<ul>
  <li>
    <p>其中<code class="highlighter-rouge">⟨factor⟩</code> 作用于基础行距而不是字号。缺省的基础行距是1.2 倍字号大小</p>
  </li>
  <li>
    <p>使用<code class="highlighter-rouge">\linespread{1.5} </code>意味着最终行距为1.8 倍的字号大小。</p>
  </li>
  <li>
    <p>想要局部地改变某个段落的行距，需要用<code class="highlighter-rouge">\selectfont</code> 命令使<code class="highlighter-rouge">\linespread </code>命令的改动立即生效：</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="p">{</span><span class="k">\linespread</span><span class="p">{</span>2.0<span class="p">}</span><span class="k">\selectfont</span>
The baseline skip is set to be
twice the normal baseline skip.
Pay attention to the <span class="nb">\verb</span><span class="kp">|</span><span class="sx">\par</span><span class="kp">|</span>
command at the end. <span class="k">\par</span><span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>字号的改变是即时生效的，而行距的改变直到文字分段时才生效。</p>
  </li>
</ul>

<p><strong>2.3 段落格式</strong></p>

<p>以下长度分别为段落的左缩进、右缩进和首行缩进：</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\setlength</span><span class="p">{</span><span class="k">\leftskip</span><span class="p">}{</span>⟨length⟩<span class="p">}</span>
<span class="k">\setlength</span><span class="p">{</span><span class="k">\rightskip</span><span class="p">}{</span>⟨length⟩<span class="p">}</span>
<span class="k">\setlength</span><span class="p">{</span><span class="k">\parindent</span><span class="p">}{</span>⟨length⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>它们和设置行距的命令一样，在分段时生效。</p>
  </li>
  <li>
    <p>如果你在某一段不想使用缩进，可使用某一段开头使用\noindent 命令。</p>
  </li>
  <li>
    <p>相反地，\indent 命令强制开启一段首行缩进的段落。多个\indent 命令可以累加缩进量。</p>
  </li>
  <li>
    <p>默认在\chapter、\section 等章节标题命令之后的第一段不缩进, 如果不习惯这种设定，可以调用indentfirst 宏包，令第一段的首行缩进照常。</p>
  </li>
  <li>
    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%段落间的垂直间距为\parskip，如设置段落间距在0.8ex 到1.5ex 变动：</span>
<span class="k">\setlength</span><span class="p">{</span><span class="k">\parskip</span><span class="p">}{</span>1ex plus 0.5ex minus 0.2ex<span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><strong>2.4 水平间距</strong></p>

<p>如果需要在文中手动插入额外的水平间距，可使用\hspace 命令</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>This<span class="k">\hspace</span><span class="p">{</span>1.5cm<span class="p">}</span>is a space of 1.5 cm.
</code></pre></div></div>

<ul>
  <li>\hspace 命令生成的水平间距如果位于一行的开头或末尾，则有可能因为断行而被“吞掉”。可使用<code class="highlighter-rouge">\hspace*</code> 命令代替<code class="highlighter-rouge">\hspace </code>命令得到不会因断行而消失的水平间距。</li>
  <li>命令<code class="highlighter-rouge">\stretch{⟨n⟩} </code>生成一个特殊弹性长度，参数<code class="highlighter-rouge">⟨n⟩ </code>为权重。它的基础长度为0pt，但可以无限延伸，直到占满可用的空间。如果同一行内出现多个<code class="highlighter-rouge">\stretch{⟨n⟩}</code>，这一行的所有可用空间将按每个<code class="highlighter-rouge">\stretch</code> 命令给定的权重<code class="highlighter-rouge">⟨n⟩ </code>进行分配。</li>
  <li><code class="highlighter-rouge">\quad</code> 和<code class="highlighter-rouge">\qquad</code> 命令, 分别相当于<code class="highlighter-rouge">\hspace{1em} </code>和<code class="highlighter-rouge">\hspace{2em}</code>：</li>
</ul>

<p><strong>2.5 垂直间距</strong></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A paragraph.

<span class="k">\vspace</span><span class="p">{</span>2ex<span class="p">}</span>
Another paragraph.
</code></pre></div></div>

<ul>
  <li>`vspace <code class="highlighter-rouge">命令生成的垂直间距在一页的顶端或底端可能被“吞掉”，类似</code>\hspace <code class="highlighter-rouge">在一行的开头和末尾那样。对应地，</code>\vspace* <code class="highlighter-rouge">命令产生不会因断页而消失的垂直间距。</code>\vspace<code class="highlighter-rouge"> 也可用</code>\stretch `设置无限延伸的垂直长度。</li>
  <li>
    <p>在段落内的两行之间增加垂直间距，一般通过给断行命令<code class="highlighter-rouge">\\ </code>加可选参数，如<code class="highlighter-rouge">\\[6pt]</code> 或<code class="highlighter-rouge">\\*[6pt]</code>。<code class="highlighter-rouge">\vspace </code>也可以在段落内使用，区别在于<code class="highlighter-rouge">\vspace</code> 只引入垂直间距而不断行：</p>
  </li>
  <li>LaTeX 还提供了<code class="highlighter-rouge">\bigskip</code>, <code class="highlighter-rouge">\medskip</code>,<code class="highlighter-rouge"> \smallskip</code> 来增加预定义长度的垂直间距。</li>
</ul>

<h3 id="3-页面和分栏">3. 页面和分栏</h3>

<p><img src="/images/posts/2019-10-15/yemian.png" alt="" /></p>

<p><img src="/images/posts/2019-10-15/yemian2.png" alt="" /></p>

<p><strong>3.1 利用geometry 宏包设置页面参数</strong></p>

<ul>
  <li>
    <p>geometry 宏包的调用方式类似于graphicx，在latex + dvipdfmx 命令下需要指定选项
dvipdfm （注意这里不是dvipdfmx）；pdflatex 和xelatex 编译命令下不需要。</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\usepackage</span><span class="p">{</span>geometry<span class="p">}</span>
<span class="k">\geometry</span><span class="p">{</span>⟨geometry-settings⟩<span class="p">}</span>
<span class="c">%或者</span>
<span class="k">\usepackage</span><span class="na">[⟨geometry-settings⟩]</span><span class="p">{</span>geometry<span class="p">}</span>
</code></pre></div>    </div>

    <ul>
      <li>
        <p>其中<code class="highlighter-rouge">⟨geometry-settings⟩</code> 多以<code class="highlighter-rouge">⟨key⟩=⟨value⟩ </code>的形式组织。</p>
      </li>
      <li>
        <p>比如符合Microsoft Word 习惯的页面设定是A4 纸张，上下边距1 英寸，左右边距1.25
英寸</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\usepackage</span>[left=1.25in,right=1.25in,<span class="c">%</span>
top=1in,bottom=1in]<span class="p">{</span>geometry<span class="p">}</span>
<span class="c">% or like this:</span>
<span class="k">\usepackage</span><span class="na">[hmargin=1.25in,vmargin=1in]</span><span class="p">{</span>geometry<span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>习惯上奇数页右边、偶数页左边留出较多的页边距，而书脊一侧的奇数页左边、偶数页右边页边距较少</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\usepackage</span><span class="na">[inner=1in,outer=1.25in]</span><span class="p">{</span>geometry<span class="p">}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<p><strong>3.2 页面内容垂直对齐</strong></p>

<p>令页面在垂直方向向顶部对齐/ 分散对齐</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\raggedbottom</span>
<span class="k">\flushbottom</span>
</code></pre></div></div>

<p><strong>3.3 分栏</strong></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\onecolumn</span>
<span class="k">\twocolumn</span><span class="na">[⟨one-column top material⟩]</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">\twocolumn</code> 支持带一个可选参数，用于排版双栏之上的一部分单栏内容。</li>
  <li>切换单/双栏排版时总是会另起一页（\clearpage）</li>
  <li>在双栏模式下使用<code class="highlighter-rouge">\newpage</code> 会换栏而不是换页；<code class="highlighter-rouge">\clearpage</code> 则能够换页。</li>
  <li>双栏排版时每一栏的宽度为<code class="highlighter-rouge">\columnwidth</code>，它由<code class="highlighter-rouge">\textwidth</code> 减去<code class="highlighter-rouge">\columnsep</code> 的差除以2 得到。两栏之间还有一道竖线，宽度为<code class="highlighter-rouge">\columnseprule</code>，默认为零，也就是看不到竖线。</li>
</ul>

<p>一个比较好用的分栏解决方案是<code class="highlighter-rouge">multicol</code>，它提供了简单的<code class="highlighter-rouge">multicols </code>环境（注意不要写成multicol 环境）自动产生分栏，如以下环境将内容分为3 栏：</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">\begin{multicols}</span><span class="p">{</span>3<span class="p">}</span>
...
<span class="nt">\end{multicols}</span>
</code></pre></div></div>

<ul>
  <li>multicol 宏包能够在一页之中切换单栏/多栏，也能处理跨页的分栏且各栏的高度分布平
衡。</li>
  <li>在multicols 环境中无法正常使用<code class="highlighter-rouge">table </code>和<code class="highlighter-rouge">figure </code>等浮动体环境，它会直接让浮动体丢失。multicols 环境中只能用跨栏的<code class="highlighter-rouge">table*</code> 和<code class="highlighter-rouge">figure* </code>环境，或者用<code class="highlighter-rouge">float </code>宏包提供的<code class="highlighter-rouge">H</code> 参数固定浮动体的位置。</li>
</ul>

<h3 id="4-页眉和页脚">4. 页眉和页脚</h3>

<ul>
  <li>
    <p>命令\pagestyle 来修改页眉页脚的样式<code class="highlighter-rouge">\pagestyle{⟨page-style⟩}</code></p>
  </li>
  <li>
    <p>命令\thispagestyle 只影响当页的页眉页脚样式：<code class="highlighter-rouge">\thispagestyle{⟨page-style⟩}</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">⟨page-style⟩</code> 参数为样式的名称</p>

    <p><img src="/images/posts/2019-10-15/head.png" alt="" /></p>

    <ul>
      <li>article 文档类，twoside 选项偶数页为页码和节标题，奇数页为小节标题和页码；</li>
      <li>article 文档类，oneside 选项页眉为节标题和页码；</li>
      <li>book/report 文档类，twoside 选项偶数页为页码和章标题，奇数页为节标题和页码；</li>
      <li>book/report 文档类，oneside 选项页眉为章标题和页码。</li>
    </ul>
  </li>
  <li>
    <p><code class="highlighter-rouge">\pagenumbering</code> 命令令我们能够改变页眉页脚中的页码样式：</p>

    <p><code class="highlighter-rouge">\pagenumbering{⟨style⟩}</code></p>

    <ul>
      <li>⟨style⟩ 为页码样式，默认为arabic（阿拉伯数字），还可修改为roman（小写罗马数字）、Roman（大写罗马数字）等。注意使用\pagenumbering 命令后会将页码重置为1。</li>
    </ul>
  </li>
  <li>
    <p>对于<code class="highlighter-rouge">headings </code>或者<code class="highlighter-rouge">myheadings </code>样式，LATEX 允许用户使用命令手动修改页眉上面的内容，</p>

    <ul>
      <li>
        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\markright</span><span class="p">{</span>⟨right-mark⟩<span class="p">}</span>
<span class="k">\markboth</span><span class="p">{</span>⟨left-mark⟩<span class="p">}{</span>⟨right-mark⟩<span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li><code class="highlighter-rouge">⟨left-mark⟩ </code>和<code class="highlighter-rouge">⟨right-mark⟩ </code>的内容分别预期出现在左页（偶数页）和右页（奇数页）</li>
    </ul>
  </li>
  <li>
    <p>默认将页眉的内容都转为大写字母。如果你不喜欢这样，可以尝试以下代码</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\renewcommand\chaptermark</span><span class="na">[1]</span><span class="p">{</span><span class="k">\markboth</span><span class="p">{</span>Chapter <span class="k">\thechapter\quad</span> #1<span class="p">}{}}</span>
<span class="k">\renewcommand\sectionmark</span><span class="na">[1]</span><span class="p">{</span><span class="k">\markright</span><span class="p">{</span><span class="k">\thesection\quad</span> #1<span class="p">}}</span>
</code></pre></div>    </div>

    <ul>
      <li>以上代码适用于report/book 文档类。对于article 文档类，与两个页眉相关的命令分别为<code class="highlighter-rouge">\sectionmark </code>和<code class="highlighter-rouge">\subsectionmark</code>。</li>
    </ul>
  </li>
  <li>
    <p>fancyhdr 宏包</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\pagestyle</span><span class="p">{</span>fancy<span class="p">}</span>
</code></pre></div>    </div>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\fancyhf</span><span class="na">[⟨position⟩]</span><span class="p">{</span>…<span class="p">}</span>
<span class="k">\fancyhead</span><span class="na">[⟨position⟩]</span><span class="p">{</span>…<span class="p">}</span>
<span class="k">\fancyfoot</span><span class="na">[⟨position⟩]</span><span class="p">{</span>…<span class="p">}</span>
</code></pre></div>    </div>

    <ul>
      <li>
        <p><code class="highlighter-rouge">⟨position⟩</code> 为L（左）/C（中）/R（右）以及与O（奇数页）/E（偶数页）字母的组合。</p>
      </li>
      <li>
        <p><code class="highlighter-rouge">\fancyhf</code> 用于同时定义页眉和页脚，习惯上使用<code class="highlighter-rouge">\fancyhf{}</code> 来清空页眉页脚的设置。</p>
      </li>
      <li>
        <p><code class="highlighter-rouge">fancyhdr</code> 还支持用<code class="highlighter-rouge">\fancypagestyle</code> 为自定义的页眉页脚样式命名，或者重新定义已有的样式如plain 等：</p>

        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">% 自定义myfancy 样式</span>
<span class="k">\fancypagestyle</span><span class="p">{</span>myfancy<span class="p">}{</span> <span class="c">%</span>
<span class="k">\fancyhf</span><span class="p">{}</span>
<span class="k">\fancyhead</span><span class="p">{</span>...<span class="p">}</span>
<span class="k">\fancyfoot</span><span class="p">{</span>...<span class="p">}</span>
<span class="p">}</span>
<span class="c">% 使用样式</span>
<span class="k">\pagestyle</span><span class="p">{</span>myfancy<span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%fancyhdr 基础用法的一个示例，效果为将章节标题放在和headings 一致的位置，但使用加粗格式；页码都放在页脚正中；修改横线宽度，“去掉”页脚的横线。</span>
<span class="c">% 在导言区使用此代码</span>
<span class="k">\usepackage</span><span class="p">{</span>fancyhdr<span class="p">}</span>
<span class="k">\pagestyle</span><span class="p">{</span>fancy<span class="p">}</span>
<span class="k">\renewcommand</span><span class="p">{</span><span class="k">\chaptermark</span><span class="p">}</span>[1]<span class="p">{</span><span class="k">\markboth</span><span class="p">{</span>#1<span class="p">}{}}</span>
<span class="k">\renewcommand</span><span class="p">{</span><span class="k">\sectionmark</span><span class="p">}</span>[1]<span class="p">{</span><span class="k">\markright</span><span class="p">{</span><span class="k">\thesection\ </span>#1<span class="p">}}</span>
<span class="k">\fancyhf</span><span class="p">{}</span>
<span class="k">\fancyfoot</span><span class="na">[C]</span><span class="p">{</span><span class="k">\bfseries\thepage</span><span class="p">}</span>
<span class="k">\fancyhead</span><span class="na">[LO]</span><span class="p">{</span><span class="k">\bfseries\rightmark</span><span class="p">}</span>
<span class="k">\fancyhead</span><span class="na">[RE]</span><span class="p">{</span><span class="k">\bfseries\leftmark</span><span class="p">}</span>
<span class="k">\renewcommand</span><span class="p">{</span><span class="k">\headrulewidth</span><span class="p">}{</span>0.4pt<span class="p">}</span> <span class="c">% 注意不用\setlength</span>
<span class="k">\renewcommand</span><span class="p">{</span><span class="k">\footrulewidth</span><span class="p">}{</span>0pt<span class="p">}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<h2 id="六特色工具和功能">六、特色工具和功能</h2>

<h3 id="1-参考文献和bibtex-工具">1. 参考文献和BIBTEX 工具</h3>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%基本的使用</span>
<span class="k">\cite</span><span class="p">{</span>⟨citation⟩<span class="p">}</span>

<span class="nt">\begin{thebibliography}</span><span class="p">{</span>⟨widest label⟩<span class="p">}</span>
<span class="k">\bibitem</span><span class="na">[⟨item number⟩]</span><span class="p">{</span>⟨citation⟩<span class="p">}</span> ...
<span class="nt">\end{thebibliography}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">⟨citation⟩</code> 为引用的参考文献的标签，类似\ref 里的参数；</li>
  <li><code class="highlighter-rouge">\cite</code> 带一个可选参数，为引用的编号后加上额外的内容，如<code class="highlighter-rouge">\cite[page 22]{Paper2013}</code> 可能得到形如[13, page 22] 这样的引用。</li>
  <li><code class="highlighter-rouge">⟨item number⟩</code> 自定义参考文献的序号，如果省略，则按自然排序给定序号。</li>
  <li><code class="highlighter-rouge">⟨widest label⟩ </code>用以限制参考文献序号的宽度，如99 意味着不超过两位数字。</li>
</ul>

<p><strong>BiBTeX 数据库</strong> （<a href="http://mirrors.tuna.tsinghua.edu.cn/CTAN/biblio/bibtex/base/btxdoc.pdf">手册链接</a>）</p>

<ul>
  <li>BiBTeX 数据库以.bib 作为扩展名，其内容是若干个文献条目
    <ul>
      <li>**article **学术论文，必需字段有author, title, journal, year; 可选字段包括volume, number,pages, doi 等；</li>
      <li>**book **书籍，必需字段有author/editor, title, publisher, year; 可选字段包括volume/number,series, address 等；</li>
      <li>**incollection **论文集中的一篇，必需字段有author, title, booktitle, publisher, year; 可选字段包括editor, volume/number, chapter, pages, address 等；</li>
      <li>**inbook **书中的一章，必需字段有author/editor, title, chapter/pages, publisher, year; 可选字段包括volume/number, series, address 等。</li>
      <li>**inproceedings ** An article in a conference proceedings. Required fields:author, title, booktitle, year. Optional fields: editor, volume or number, series, pages, address, month, organization, publisher,note.</li>
      <li>**manual ** Technical documentation. Required field: title. Optional fields:author, organization, address, edition, month, year, note.</li>
      <li>**mastersthesis ** A Master’s thesis. Required fields: author, title, school,year. Optional fields: type, address, month, note.</li>
      <li>**misc **Use this type when nothing else fits. Required fields: none. Optional fields: author, title, howpublished, month, year, note.</li>
      <li>**phdthesis **A PhD thesis. Required fields: author, title, school, year. Optional fields: type, address, month, note.</li>
      <li>**proceedings ** The proceedings of a conference. Required fields: title, year.Optional fields: editor, volume or number, series, address, month, organization, publisher, note.</li>
      <li>**techreport ** A report published by a school or other institution, usually numbered within a series. Required fields: author, title, institution, year. Optional fields: type, number, address, month, note.</li>
      <li>**unpublished ** A document having an author and title, but not formally published. Required fields: author, title, note. Optional fields: month, year.</li>
    </ul>
  </li>
</ul>

<p><strong>BiBTeX 样式</strong></p>

<p>使用样式文件的方法</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\bibliographystyle</span><span class="p">{</span>⟨bst-name⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">⟨bst-name⟩ </code>为.bst 样式文件的名称，不要带.bst 扩展名。</li>
  <li><code class="highlighter-rouge">\nocite{⟨citation⟩}</code> 命令列出未被<code class="highlighter-rouge">\cite</code>引用的文献, 而<code class="highlighter-rouge">\nocite{*} </code>则让所有未被引用的文献都列出。</li>
  <li>在需要列出参考文献的位置<code class="highlighter-rouge">\bibliography{⟨bib-name⟩}</code>
    <ul>
      <li>其中<code class="highlighter-rouge">⟨bib-name⟩</code> 是BiBTeX 数据库的文件名，不要带.bib 扩展名。</li>
    </ul>
  </li>
</ul>

<p><strong>natbib 宏包</strong></p>

<p>使用人名——年份的引用方式，形如(Axford et al., 2013)</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\citep</span><span class="p">{</span>⟨citation⟩<span class="p">}</span>
<span class="k">\citet</span><span class="p">{</span>⟨citation⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>分别生成 (Axford et al., 2013) 和Axford et al. (2013)</li>
  <li>natbib 提供了与LATEX 预定义样式相对应的几个样式，包括plainnat、abbrvnat 和unsrtnat</li>
  <li>natbib 宏包同样也支持数字引用，并且支持将引用的序号压缩，例如<code class="highlighter-rouge">\usepackage[numbers,sort&amp;compress]{natbib}</code>，连续引用多篇文献时，会生成形如(3-7) 的引用而不是(3,4, 5, 6, 7)。</li>
</ul>

<p><strong>biblatex 宏包</strong></p>

<p>biblatex 宏包是一套基于LaTeX 宏命令的参考文献解决方案，提供了便捷的格式控制和强大的排序、分类、筛选、多文献表等功能</p>

<h3 id="2-索引和makeindex-工具">2. 索引和makeindex 工具</h3>

<ul>
  <li>
    <p>第一步，在LATEX 源代码的导言区调用makeidx 宏包，并使用\makeindex 命令开启索引的收集：</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\usepackage</span><span class="p">{</span>makeidx<span class="p">}</span>
<span class="k">\makeindex</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>第二步，在正文中需要索引的地方使用\index 命令。\index 命令的参数写法详见下一小节；并在需要输出索引的地方（如所有章节之后）使用\printindex 命令。</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\index</span><span class="p">{</span>⟨index entry⟩<span class="p">}</span>
</code></pre></div>    </div>

    <p><img src="/images/posts/2019-10-15/suoyin.png" alt="" /></p>

    <ul>
      <li>
        <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
Test index.
<span class="k">\index</span><span class="p">{</span>Test@<span class="k">\textsf</span><span class="p">{</span>""Test<span class="p">}</span>|(textbf<span class="p">}</span>
<span class="k">\index</span><span class="p">{</span>Test@<span class="k">\textsf</span><span class="p">{</span>""Test<span class="p">}</span>!sub@"|sub"||see<span class="p">{</span>Test<span class="p">}}</span>
<span class="k">\newpage</span>
Test index.
<span class="k">\index</span><span class="p">{</span>Test@<span class="k">\textsf</span><span class="p">{</span>""Test<span class="p">}</span>|)textbf<span class="p">}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>第三步，编译过程：</p>
  </li>
</ul>

<h3 id="3-使用颜色">3. 使用颜色</h3>

<p><code class="highlighter-rouge">color </code>宏包或者<code class="highlighter-rouge">xcolor </code>宏包提供了对颜色的支持，给PDF 输出生成颜色的特殊指令。</p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\color</span><span class="na">[⟨color-mode⟩]</span><span class="p">{</span>⟨code⟩<span class="p">}</span>
<span class="k">\color</span><span class="p">{</span>⟨color-name⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>color 宏包支持rgb、cmyk 和gray 模型, xcolor 支持更多的模型如hsb 等。</li>
</ul>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\large\sffamily</span>
<span class="p">{</span><span class="k">\color</span><span class="na">[gray]</span><span class="p">{</span>0.6<span class="p">}</span> 60<span class="k">\%</span> 灰色<span class="p">}</span> <span class="k">\\</span>
<span class="p">{</span><span class="k">\color</span><span class="na">[rgb]</span><span class="p">{</span>0,1,1<span class="p">}</span> 青色<span class="p">}</span>
<span class="p">{</span><span class="k">\color</span><span class="p">{</span>red<span class="p">}</span> 红色<span class="p">}</span> <span class="k">\\</span>
<span class="p">{</span><span class="k">\color</span><span class="p">{</span>blue<span class="p">}</span> 蓝色<span class="p">}</span>
</code></pre></div></div>

<p><img src="/images/posts/2019-10-15/color.png" alt="" /></p>

<ul>
  <li>xcolor 还支持将颜色通过表达式混合或互补</li>
</ul>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\large\sffamily</span>
<span class="p">{</span><span class="k">\color</span><span class="p">{</span>red!40<span class="p">}</span> 40<span class="k">\%</span> 红色<span class="p">}</span><span class="k">\\</span>
<span class="p">{</span><span class="k">\color</span><span class="p">{</span>blue<span class="p">}</span>蓝色
<span class="k">\color</span><span class="p">{</span>blue!50!black<span class="p">}</span>蓝黑
<span class="k">\color</span><span class="p">{</span>black<span class="p">}</span>黑色<span class="p">}</span><span class="k">\\</span>
<span class="p">{</span><span class="k">\color</span><span class="p">{</span>-red<span class="p">}</span>红色的互补色<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>自定义颜色名称</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\definecolor</span><span class="p">{</span>⟨color-name⟩<span class="p">}{</span>⟨color-mode⟩<span class="p">}{</span>⟨code⟩<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>原始的\color 命令类似于字体命令\bfseries它使之后排版的内容全部变成指定的颜色，所以直接使用时通常要加花括号分组.</p>
  </li>
</ul>

<p><strong>带颜色的文本和盒子</strong></p>

<ul>
  <li>
    <p>输入带颜色的文本可以用类似\textbf 的命令：</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\textcolor</span><span class="na">[⟨color-mode⟩]</span><span class="p">{</span>⟨code⟩<span class="p">}{</span>⟨text⟩<span class="p">}</span>
<span class="k">\textcolor</span><span class="p">{</span>⟨color-name⟩<span class="p">}{</span>⟨text⟩<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>以下命令构造一个带背景色的盒子，<code class="highlighter-rouge">⟨material⟩</code> 为盒子中的内容：</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\colorbox</span><span class="na">[⟨color-mode⟩]</span><span class="p">{</span>⟨code⟩<span class="p">}{</span>⟨material⟩<span class="p">}</span>
<span class="k">\colorbox</span><span class="p">{</span>⟨color-name⟩<span class="p">}{</span>⟨material⟩
</code></pre></div>    </div>
  </li>
  <li>
    <p>以下命令构造一个带背景色和有色边框的盒子，⟨fcode⟩ 或⟨fcolor-name⟩ 用于设置边框颜色：</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\fcolorbox</span><span class="na">[⟨color-mode⟩]</span><span class="p">{</span>⟨fcode⟩<span class="p">}{</span>⟨code⟩<span class="p">}{</span>⟨material⟩<span class="p">}</span>
<span class="k">\fcolorbox</span><span class="p">{</span>⟨fcolor-name⟩<span class="p">}{</span>⟨color-name⟩<span class="p">}{</span>⟨material⟩<span class="p">}</span>
</code></pre></div>    </div>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例代码</span>
<span class="k">\sffamily</span>
文字用<span class="k">\textcolor</span><span class="p">{</span>red<span class="p">}{</span>红色<span class="p">}</span>强调<span class="k">\\</span>
<span class="k">\colorbox</span><span class="na">[gray]</span><span class="p">{</span>0.95<span class="p">}{</span>浅灰色背景<span class="p">}</span> <span class="k">\\</span>
<span class="k">\fcolorbox</span><span class="p">{</span>blue<span class="p">}{</span>yellow<span class="p">}{</span> <span class="c">%</span>
<span class="k">\textcolor</span><span class="p">{</span>blue<span class="p">}{</span>蓝色边框+文字，<span class="c">%</span>
黄色背景<span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="4使用超链接">4.使用超链接</h3>

<p><strong>hyperref 宏包</strong></p>

<ul>
  <li>为减少可能的冲突，习惯上将<code class="highlighter-rouge">hyperref </code>宏包放在其它宏包之后调用。</li>
</ul>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%配置参数</span>
<span class="k">\hypersetup</span><span class="p">{</span>⟨option1⟩,⟨option2⟩=<span class="p">{</span>value<span class="p">}</span>,…<span class="p">}</span>
<span class="k">\usepackage</span><span class="na">[⟨option1⟩,⟨option2⟩={value},…]</span><span class="p">{</span>hyperref<span class="p">}</span>
</code></pre></div></div>

<p><img src="/images/posts/2019-10-15/ref.png" alt="" /></p>

<p><strong>超链接</strong></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\url</span><span class="p">{</span>⟨url⟩<span class="p">}</span>
<span class="k">\nolinkurl</span><span class="p">{</span>⟨url⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>\url 和\nolinkurl 都生成可以点击的URL，区别是前者有彩色，后者没有。在\url 命令中作为参数的URL 里，可直接输入如%、&amp; 这样的特殊符号。</li>
</ul>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\href</span><span class="p">{</span>⟨url⟩<span class="p">}{</span>⟨text⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>使用hyperref 宏包后，文档中所有的引用、参考文献、索引等等都转换为超链接</li>
  <li>用户也可对某个<code class="highlighter-rouge">\label </code>命令定义的标签<code class="highlighter-rouge">⟨label⟩ </code>作超链接（注意这里的<code class="highlighter-rouge">⟨label⟩</code> 虽然是可选参数的形式，
但通常是必填的2）<code class="highlighter-rouge">\hyperref[⟨label⟩]{⟨text⟩}</code></li>
  <li>默认的超链接在文字外边加上一个带颜色的边框（在打印PDF 时边框不会打印），可指定colorlinks 参数修改为将文字本身加上颜色，或修改pdfborder 参数调整边框宽度以“去掉”边框；hidelinks 参数则令超链接既不变色也不加边框。</li>
</ul>

<p><strong>PDF 书签</strong></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\pdfbookmark</span><span class="na">[⟨level⟩]</span><span class="p">{</span>⟨bookmark⟩<span class="p">}{</span>⟨anchor⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p><code class="highlighter-rouge">⟨bookmark⟩ </code>为书签名称，<code class="highlighter-rouge">⟨anchor⟩ </code>为书签项使用的锚点（类似交叉引用的标签）。可选参数<code class="highlighter-rouge">⟨level⟩</code>为书签的层级，默认为0。</p>
  </li>
  <li>
    <p>对于未被处理的命令或数学公式，就要在章节标题中使用如下命令，分别提供LaTeX 代码和PDF 书签可用的纯文本：</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\texorpdfstring</span><span class="p">{</span>⟨LATEX code⟩<span class="p">}{</span>⟨PDF bookmark text⟩<span class="p">}</span>
<span class="c">%\texorpdfstring{⟨LATEX code⟩}{⟨PDF bookmark text⟩}</span>
<span class="k">\section</span><span class="p">{</span>质能公式<span class="k">\texorpdfstring</span><span class="p">{$</span><span class="nb">E</span><span class="o">=</span><span class="nb">mc</span><span class="p">^</span><span class="m">2</span><span class="p">$}{</span>E=mc<span class="k">\textasciicircum</span> 2<span class="p">}}</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><strong>PDF 文档属性</strong></p>

<p>hyperref 宏包还提供了一些参数用于改变PDF 文档的属性，见上表。</p>

<h3 id="七绘图功能未学习仅浏览一遍推荐visio">七、绘图功能[未学习，仅浏览一遍，推荐Visio]</h3>

<h2 id="八自定义latex-命令和功能">八、自定义LATEX 命令和功能</h2>

<h3 id="1-自定义命令和环境">1. 自定义命令和环境</h3>

<ul>
  <li>\cmd 负责输出命令的名字，包括前面的反斜杠</li>
</ul>

<p><strong>定义新命令</strong></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\newcommand</span><span class="p">{</span><span class="k">\⟨</span>name⟩<span class="p">}</span>[⟨num⟩]<span class="p">{</span>⟨definition⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p><code class="highlighter-rouge">⟨name⟩</code> 是你想要建立的命令的名称（带反斜杠），</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">⟨definition⟩</code> 是命令的定义。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">⟨num⟩ </code>是可选的，用于指定新命令所需的参数数目（最多9 个）。如果缺省可选参数，默认就是0，</p>
  </li>
  <li>
    <p>演示了如何定义一个带参数的命令。在命令的定义中，标记#1 代表指定的参数。如果想使用多个参数，可以依次使用#2、……、#9 等标记。</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\newcommand</span><span class="p">{</span><span class="k">\txsit</span><span class="p">}</span>[1]
    <span class="p">{</span>This is the <span class="k">\emph</span><span class="p">{</span>#1<span class="p">}</span> Short
    	Introduction to <span class="k">\LaTeXe</span><span class="p">}</span>
<span class="c">% in the document body:</span>
<span class="nt">\begin{itemize}</span>
    <span class="k">\item</span> <span class="k">\txsit</span><span class="p">{</span>not so<span class="p">}</span>
    <span class="k">\item</span> <span class="k">\txsit</span><span class="p">{</span>very<span class="p">}</span>
<span class="nt">\end{itemize}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>LaTeX 不允许你定义一个与现有命令重名的命令。如果需要修改命令定义的话，使用<code class="highlighter-rouge">\renewcommand</code>命令。它使用与命令<code class="highlighter-rouge">\newcommand </code>相同的语法。</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">\providecommand</code> 命令。在命令不存在时，它相当于\newcommand ；在命令已经存在时，仍沿用存在的定义。</p>
  </li>
</ul>

<p><strong>定义环境</strong></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\newenvironment</span><span class="p">{</span>⟨name⟩<span class="p">}</span>[⟨num⟩]<span class="p">{</span>⟨before⟩<span class="p">}{</span>⟨after⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>
    <p>在<code class="highlighter-rouge">⟨before⟩</code> 中的内容将在此环境包含的文本之前处理，而在<code class="highlighter-rouge">⟨after⟩ </code>中的内容将在遇到\end{⟨name⟩} 命令时处理。</p>

    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例程序</span>
<span class="k">\newenvironment</span><span class="p">{</span>king<span class="p">}</span>
<span class="p">{</span><span class="k">\rule</span><span class="p">{</span>1ex<span class="p">}{</span>1ex<span class="p">}</span><span class="c">%</span>
<span class="k">\hspace</span><span class="p">{</span><span class="k">\stretch</span><span class="p">{</span>1<span class="p">}}}</span>
<span class="p">{</span><span class="k">\hspace</span><span class="p">{</span><span class="k">\stretch</span><span class="p">{</span>1<span class="p">}}</span><span class="c">%</span>
<span class="k">\rule</span><span class="p">{</span>1ex<span class="p">}{</span>1ex<span class="p">}}</span>
  
<span class="nt">\begin{king}</span>
My humble subjects <span class="k">\ldots</span>
<span class="nt">\end{king}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>参数<code class="highlighter-rouge">⟨num⟩</code> 的使用方式与<code class="highlighter-rouge">\newcommand</code> 命令相同</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">\renewenvironment</code>改变一个现有的环境</p>
  </li>
</ul>

<h3 id="2-编写自己的宏包和文档类">2. 编写自己的宏包和文档类</h3>

<p><strong>编写简单的宏包</strong></p>

<ul>
  <li>
    <p>需要以.sty 作扩展名</p>
  </li>
  <li>
    <p>加入一个宏包专用的命令：<code class="highlighter-rouge"><span class="k">\ProvidesPackage</span><span class="p">{</span>⟨package name⟩<span class="p">}</span></code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">⟨package name⟩ </code>需要和宏包的文件名一致</p>
  </li>
  <li>
    <div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">% Demo Package by Tobias Oetiker</span>
<span class="k">\ProvidesPackage</span><span class="p">{</span>demopack<span class="p">}</span>
<span class="k">\newcommand</span><span class="p">{</span><span class="k">\tnss</span><span class="p">}{</span>The not so Short Introduction
to <span class="k">\LaTeXe</span><span class="p">}</span>
<span class="k">\newcommand</span><span class="p">{</span><span class="k">\txsit</span><span class="p">}</span>[1]<span class="p">{</span>The <span class="k">\emph</span><span class="p">{</span>#1<span class="p">}</span> Short
Introduction to <span class="k">\LaTeXe</span><span class="p">}</span>
<span class="k">\newenvironment</span><span class="p">{</span>king<span class="p">}{</span><span class="nt">\begin{quote}</span><span class="p">}{</span><span class="nt">\end{quote}</span><span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>在宏包中调用其它宏包 <code class="highlighter-rouge">\RequirePackage[⟨options⟩]{⟨package name⟩}</code></li>
</ul>

<p><strong>编写自己的文档类</strong></p>

<ul>
  <li>文档类以.cls 作扩展名</li>
  <li>开头使用<code class="highlighter-rouge"><span class="k">\ProvidesClass</span><span class="p">{</span>⟨class name⟩<span class="p">}</span></code></li>
  <li><code class="highlighter-rouge">{⟨class name⟩} </code>也需要和文档类的文件名一致。</li>
  <li><code class="highlighter-rouge">\LoadClass[⟨options⟩]{⟨package name⟩}</code>,调用一个基本的文档类</li>
</ul>

<h3 id="3-计数器">3. 计数器</h3>

<p><strong>定义和修改计数器</strong></p>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\newcounter</span><span class="p">{</span>⟨counter name⟩<span class="p">}</span>[⟨parent counter name⟩]
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">⟨counter name⟩</code> 为计数器的名称。计数器可以有上下级的关系，可选参数<code class="highlighter-rouge">⟨parent countername⟩</code> 定义为<code class="highlighter-rouge">⟨counter name⟩</code> 的上级计数器。</li>
</ul>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">\setcounter</span><span class="p">{</span>⟨counter name⟩<span class="p">}{</span>⟨number⟩<span class="p">}</span>
<span class="k">\addtocounter</span><span class="p">{</span>⟨counter name⟩<span class="p">}{</span>⟨number⟩<span class="p">}</span>
<span class="k">\stepcounter</span><span class="p">{</span>⟨counter name⟩<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">\setcounter</code> 将数值设为<code class="highlighter-rouge">⟨number⟩</code>；</li>
  <li><code class="highlighter-rouge">\addtocounter</code>将数值加上<code class="highlighter-rouge">⟨number⟩</code>；</li>
  <li><code class="highlighter-rouge">\stepcounter</code> 将数值加一，并将所有下级计数器归零。</li>
</ul>

<p><strong>计数器的输出格式</strong></p>

<ul>
  <li>
    <p>计数器<code class="highlighter-rouge">⟨counter⟩</code> 的输出格式由<code class="highlighter-rouge">\the⟨counter⟩ </code>表示，比如<code class="highlighter-rouge">\thechapter</code>, <code class="highlighter-rouge">\theequation</code></p>
  </li>
  <li>
    <p><code class="highlighter-rouge">\renewcommand\theequation{\Alph{equation}}</code>修改计数器格式</p>

    <ul>
      <li>
        <p>这些命令只能用于计数器，不能直接用于数字</p>

        <p><img src="/images/posts/2019-10-15/counter.png" alt="" /></p>
      </li>
      <li>
        <p>计数器的输出格式还可以利用其它字符，甚至其它计数器的输出格式与之组合<code class="highlighter-rouge">\renewcommand\thesubsection{\thesection.\arabic{subsection}}</code></p>
      </li>
    </ul>
  </li>
</ul>

<p><strong>LaTeX 中的计数器</strong></p>

<ul>
  <li>所有章节命令\chapter、\section 等分别对应计数器chapter、section 等等，而且有上下级的关系。而计数器part 是独立的。</li>
  <li>有序列表enumerate 的各级计数器为enumi, enumii, enumiii, enumiv，也有上下级的关系。</li>
  <li>图表浮动体的计数器就是table 和figure；公式的计数器为equation。这些计数器在article文档类中是独立的，而在book 和report 中以chapter 为上级计数器。</li>
  <li>页码、脚注的计数器分别是page 和footnote。</li>
</ul>

<div class="language-latex highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">%示例，把页码修改成大写罗马字母，左右加横线，或是给脚注加上方括号：</span>
<span class="k">\renewcommand\thepage</span><span class="p">{</span>--~<span class="k">\Roman</span><span class="p">{</span>page<span class="p">}</span>~--<span class="p">}</span>
<span class="k">\renewcommand\thefootnote</span><span class="p">{</span>[<span class="k">\arabic</span><span class="p">{</span>footnote<span class="p">}</span>]<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><strong>secnumdepth</strong>计数器控制章节编号的深度，如果章节的层级大于secnumdepth，那么章节的标题、在目录和页眉页脚的标题都不编号（照常生成目录和页眉页脚），章节计数器也不计数。
    <ul>
      <li>可以用\setcounter 命令设置secnumdepth 为较大的数使得层级比较深的章节也编号，如设置为4 令\paragraph 也编号；或者设置一个较小的数以取消编号，如设置为-1 令\chapter 不编号。</li>
      <li>secnumdepth 计数器在article 文档类里默认为3 （subsubsection 一级）；在report 和book文档类里默认为2 （subsection 一级）</li>
    </ul>
  </li>
  <li><strong>tocdepth</strong>计数器控制目录的深度。如果章节的层级大于tocdepth，那么章节将不会自动写入目录项。默认值同secnumdepth。</li>
</ul>

<h3 id="4-latex-可定制的一些命令和参数">4. LaTeX 可定制的一些命令和参数</h3>

<ul>
  <li>
    <p>标题名称/前后缀等。表中所有的LaTeX 命令都可以用<code class="highlighter-rouge">\renewcommand</code> 来修改</p>

    <p><img src="/images/posts/2019-10-15/dingzhibiaoti.png" alt="" /></p>
  </li>
  <li>
    <p>长度。前文在叙述各种排版元素时已经涉及到一些。表中所有的长度命令可用<code class="highlighter-rouge">\setlength</code> 来修改。大多数控制页面尺寸的长度参数在图5.1 给出，此处不再赘述。</p>

    <p><img src="/images/posts/2019-10-15/dingzhichangdu.png" alt="" /></p>
  </li>
</ul>

    </div>
<!--
    <div id="donate" >
        <a href="/donate/" style="text-decoration: none" title="点击直达打赏页面～" >
            <button>客官~对小店满意的话，<mark>赏个铜板</mark>再走啊🐼</button>
        </a>
    </div>
-->

    <div class="post-nav">
        
        <a href="/2019/09/30/Convex-Optimization_convexset/" class="pre"><i class="icon-post-pre"> Convex Optimization: Convex set</i></a>
         
        <a href="/2019/10/16/Windows_subsystem_for_linux+VMware-palyer+Ubuntu/" class="next">Windows Subsystem for Linux+VMware palyer+Ubuntu <i
                class="icon-post-next"></i></a>
        
    </div>


    <!--valine comment function-->
    <script src="https://cdnjs.loli.net/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine/dist/Valine.min.js"></script>

    <p><br/>对本文有任何问题，请在下面评论：</p>
    <div id="valine_comment" class="fb_comments_container"></div>
    <script>
        var notify = 'false' === true;
        var verify = 'false.>' === true;
        var visitor = 'true.>' === true;

        new Valine({
            av: AV,
            el: '#valine_comment',
            notify: notify,
            verify: verify,
            // smiles_url: '/smiles',
            visitor: true,
            app_id: 'yPxItE7bwrQBFHzHIQIfFXCG-MdYXbMMI',
            app_key: 'rrUOPcAJyjIaA7iMYSIXepE8',
            placeholder: 'say something~~\n - 昵称 为你所要显示的评论的ID；\n - 邮箱 只有后台可见，仅供讨论过程中是否需要交流邮件而设置，请放心填写;\n - 网址 为你的评论的昵称的超链接。\n以上都可以不写，评论依然会显示……\n这里支持MarkDown语法哦！回复前可以预览一下。',
            avatar: 'retro',
        });
    </script>


</article>

            </div>
        </div>

        <div class="pure-u-1-4">
            <div id="sidebar">
                <div class="widget">
    <form id="search-form" class="search-form">
      <input id="query" type="text" placeholder="Search" class="search-form-input">
    </form>
</div>
<script type="text/javascript">
$(document).ready(function() {

    function find_posts(words, posts_data) {
        var matched_posts = [];

        posts_data.forEach(function(post) {
            var content = (new Array(post["title"], post["keywords"])).join(" ");
            words.forEach(function (word) {
                if (word === null || word === undefined || word == "") {
                    return;  // continue
                }
                var regex = new RegExp(word, 'i');
                if (content.match(regex) != null) {
                    matched_posts.push(post);
                }
            });
        });

        return matched_posts;
    }

    function show_posts(posts) {
        var html = '';
        if (posts.length > 0) {
            for (var i = 0; i < posts.length; i++) {
                post = posts[i];
                html += '<div class="post">';
                html += '<h2 class="post-title">';
                html += '<a href="' + post.url + '">' + post.title + '</a>';
                html += '</h2>';
                html += '<div class="post-meta"><i class="icon-post-date">';
                html += ' ' + post.date;
                html += '</i></div>';
                html += '<div class="post-content">' + post.summary + '</div>';
                html += '<p class="readmore">';
                html += '<a href="' + post.url + '">阅读更多</a>';
                html += '</p>';
                html += '</div>';
            }
        } else {
            html += "<h4>Whoops,您输入的关键词没有搜索结果，请更换关键词！ O(∩_∩)O~</h4>"
        }
        $('.content_container').html(html);
        $('.content_container').show();
    }

    $('#search-form').submit(function() {
        var query = $('#query').val();
        var words = query.split(" ")

        $('#query').blur().attr('disabled', true);
        $('.content_container').hide();

        $.ajax({
            url: "/assets/data/posts.json",
            dataType: "json",
            timeout: 6000,  // 6 sec
            success: function(data) {
                matched_posts = find_posts(words, data);
                show_posts(matched_posts);
            }
        });

        $('#query').blur().attr('disabled', false);

        return false;
    });
});
</script>

				
                <!-- <div class="widget">
    <div class="widget-title"><i class="icon-edit"> 心情随笔</i></div><ul></ul>
        我梦扬州,便想到扬州梦我。<br>

        幸会。<br><br>
<td style="text-align: center"><a style="color: slategrey"></a>

        微信公众号:

<a href="https://mp.weixin.qq.com/s/dCxGcuv5ngyR6U-uBYVI9Q"
                   style="color: darkorange;"
target="_blank" title="点击直达微信公众号～～"><u><b>璇珠杂俎</b></u></a>
            </td>
</div>
 -->

                <div class="widget">
    <div class="widget-title"><i class="icon-category"> 文章分类</i></div>
    <ul class="category-list">
      
        <li class="category-list-item">
          <a class="category-list-link" href="/category/#文献管理与信息分析">文献管理与信息分析 (13)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="/category/#GeneralLecture">GeneralLecture (3)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="/category/#PythonManuals">PythonManuals (2)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="/category/#PaperReview">PaperReview (1)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="/category/#OriginManuals">OriginManuals (2)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="/category/#LaTeXManuals">LaTeXManuals (3)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="/category/#ConvexOptimization">ConvexOptimization (5)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="/category/#LinuxManuals">LinuxManuals (1)</a>
        </li>
      
        <li class="category-list-item">
          <a class="category-list-link" href="/category/#BlockChainLearning">BlockChainLearning (1)</a>
        </li>
      
    </ul>
</div>


                <!--<div class="widget">
    <div class="widget-title"><i class="icon-star"> 推荐文章</i></div>
    <ul class="post-list">
        <li class="post-list-item"><a class="post-list-link" href="https://www.oukohou.wang/2018/10/11/S3FD-Single-Shot-Scale-invariant-Face-Detector/">S3FD:Single Shot Scale-invariant Face Detector</a></li>
    </ul>

    <ul class="post-list">
        <li class="post-list-item"><a class="post-list-link" href="https://www.oukohou.wang/2018/11/29/live2D_installation/">给自己的jekyll博客安装live2D看板娘</a></li>
    </ul>

    <ul class="post-list">
        <li class="post-list-item"><a class="post-list-link" href="https://www.oukohou.wang/2018/11/20/process_of_blog_setting-up/">博客搭建历程</a></li>
    </ul>

    <ul class="post-list">
        <li class="post-list-item"><a class="post-list-link" href="https://www.oukohou.wang/2018/12/06/autumn_poems/">寒事今牢落，人生亦有初</a></li>
    </ul>
</div>
-->
				<div class="widget">
    <div class="widget-title">标签云</div>
    <div class="tagcloud">
        
    
    
    <a href="/tags/#Essential Skill" rel="nofollow" style="font-size: 14pt; color: #444;">Essential Skill</a>
    
    
    <a href="/tags/#Science Paper" rel="nofollow" style="font-size: 18pt; color: #000;">Science Paper</a>
    
    
    <a href="/tags/#Essential and Professional Course" rel="nofollow" style="font-size: 14pt; color: #444;">Essential and Professional Course</a>
    
    
    <a href="/tags/#Python" rel="nofollow" style="font-size: 10pt; color: #888;">Python</a>
    
    
    <a href="/tags/#Efficient Application" rel="nofollow" style="font-size: 9.5pt; color: #888;">Efficient Application</a>
    
    
    <a href="/tags/#Broaden Horizons" rel="nofollow" style="font-size: 9pt; color: #999;">Broaden Horizons</a>
    
    
    <a href="/tags/#LaTeX" rel="nofollow" style="font-size: 10pt; color: #888;">LaTeX</a>
    
    
    <a href="/tags/#Comprehensive Quality" rel="nofollow" style="font-size: 9pt; color: #999;">Comprehensive Quality</a>
    
    
    <a href="/tags/#Linux" rel="nofollow" style="font-size: 10pt; color: #888;">Linux</a>
    
    
    <a href="/tags/#BlockChain" rel="nofollow" style="font-size: 9.5pt; color: #888;">BlockChain</a>
    
    </div>
</div>


                <!-- <div class="widget">
  <div class="widget-title"><i class="icon-code-hub"> 代码仓库</i></div>
  <ul class="codehub-list">
  
    <li class="codehub-list-item"><a href="" title="" target="_blank"></a></li>
  
  </ul>
</div>
 -->

                <!--<div class="widget">
  <div class="widget-title"><i class="icon-link"> 友情链接</i></div>
  <ul class="link-list">
  
    <li class="link-list-item"><a href="http://jekyllcn.com/" title="Jekyll blog system" target="_blank">Jekyll blog system</a></li>
  
  </ul>
</div>
-->

                <div class="widget post-toc hide">
    <div class="widget-title"><i class="icon-post-toc"> 文章目录</i></div><ul></ul>
</div>
<script type="text/javascript">
function TOCize(toc, content, matchHeightTo) {
    if (!(toc && content && matchHeightTo)) return false

    var cnt = 0;

    var make = function(tag) {
        return document.createElement(tag)
    }

    var aniscroll = {
        to: function(top) {
            aniscroll.target = top;
            if (aniscroll.running) return;
            aniscroll.running = setInterval(aniscroll.tick, 20);
        },
        target: 0,
        running: 0,
        getTop: function() {
            return window.scrollY || window.pageYOffset || document.documentElement.scrollTop;
        },
        setTop: function(value) {
            (window['scrollTo'] && window.scrollTo(window.scrollX, value))
        },
        tick: function() {
            var oldST = aniscroll.getTop(), newST = ~~((oldST + aniscroll.target) / 2);
            aniscroll.setTop(newST);
            if (aniscroll.getTop() < newST || Math.abs(newST - aniscroll.target) < 10) {
                aniscroll.setTop(aniscroll.target);
                clearInterval(aniscroll.running)
                aniscroll.running = 0
            }
        }
    }

    function scrollToHeader(header, hash, ev) {
        var y = header.getBoundingClientRect().top + aniscroll.getTop();
        if (window.history['pushState']) {
            window.history.pushState({}, header.textContent, "#" + hash);
            aniscroll.to(y);
            ev.preventDefault();
        } else {
            var y2 = aniscroll.getTop();
            setTimeout(function() {
                aniscroll.setTop(y2);
                aniscroll.to(y);
            }, 0);
        }
    }

    var generateLink = function(h) {
        var q = make('a');
        cnt++;
        var hash = h.getAttribute('id');
        if (!hash) {
            hash = ('generated-hash-' + cnt);
            h.setAttribute('id', hash);
        }
        q.textContent = h.textContent;
        q.setAttribute('href', '#' + hash );
        q.addEventListener('click', scrollToHeader.bind(this, h, hash), false);
        return q;
    };

    var hs = content.querySelectorAll('h1, h2, h3, h4, h5, h6');
    var cul = null, plevel = 1;
    var uls = [make('ul')];
    for (var i=0;i<hs.length;i++) {
        var level = +hs[i].tagName.substr(1);
        var hi = hs[i];
        var ti = make('li');
        ti.appendChild(generateLink(hi));
        if (plevel < level) {
            do {
                uls.push(make('ul'));
                uls[uls.length-2].appendChild(uls[uls.length-1]);
            } while (++plevel < level);
        } else if (plevel > level) {
            do {
                cul = uls.pop();
            } while (--plevel > level);
        }
        cul = uls[uls.length-1];
        cul.appendChild(ti);
    }
    while(true) {
        var chs = uls[0].children;
        if (chs.length == 1 && chs[0].tagName == 'UL')
            uls.shift();
        else
            break;
    }

    if (!cnt) return false;

    var scrolldummy=make('div');
    toc.appendChild(scrolldummy);
    toc.appendChild(uls[0]);
    toc.style.display = 'block';

    var maxHeightTOC = '';
    var ppc = document.querySelector('.post');
    var s1 = function(){
        var scrollTop=aniscroll.getTop(), dummyClientTop=scrolldummy.getBoundingClientRect().top,
            margin = 10,c,d; // c = dummyHeight, d = TOC.maxHeight (+'px')
        if ((c = -dummyClientTop + margin) < 0) c = 0;
        if (c) {
            var wh = window.innerHeight
                || document.documentElement.clientHeight
                || document.body.clientHeight,
            cbox = matchHeightTo.getBoundingClientRect(),
            vq = cbox.bottom - dummyClientTop - uls[0].offsetHeight;
            if (c>vq) c=vq;
            d = (wh - (margin<<1)) + 'px';
        } else {
            d = "";
        }
        if (d != maxHeightTOC) { //status lock.
            maxHeightTOC = d;
            if (d) {
                uls[0].setAttribute('style', 'max-height:' + d + '; width:' + (toc.offsetWidth-20) + "px" );
            } else {
                uls[0].setAttribute("style","");
            }
        }
        scrolldummy.style.height = (c+'px');
    };
    window.addEventListener('scroll', s1, false);
    window.addEventListener('resize', s1, false);
}

TOCize(
    document.querySelector('.post-toc'),
    document.querySelector('.post-content'),
    document.querySelector('.post')
);
</script>

            </div>
        </div>
    </div>


    <div id="footer">
        Copyright &copy; 2015-<span id="cur_year"></span> Albert - All Rights
        Reserved.
        Powered by <a href="http://jekyllrb.com" target="_blank">Jekyll</a> @ Github.com
        <script type="text/javascript">var cur_date = new Date();
        document.getElementById("cur_year").innerHTML = cur_date.getFullYear();</script>
        
    </div>

    <a id="rocket" href="#top" class="show"></a>
    <script src="/assets/js/totop.js" type="text/javascript"></script>
</div>

<!--<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
-->

<script type="text/javascript">
/* 鼠标点击特效 */
var a_idx = 0;
jQuery(document).ready(function($) {
    $("body").click(function(e) {
        var a = new Array("❤Yang❤","❤Zhan❤","❤Peng❤","❤欢迎你❤","❤加油❤","❤努力❤","❤奋斗❤","❤拼搏❤","❤Albert❤","❤聪明❤","❤机智❤","❤活泼❤","❤可爱❤");
        var $i = $("<span></span>").text(a[a_idx]);
        a_idx = (a_idx + 1) % a.length;
        var x = e.pageX,
        y = e.pageY;
        $i.css({
            "z-index": 999999999999999999999999999999999999999999999999999999999999999999999,
            "top": y - 20,
            "left": x,
            "position": "absolute",
            "font-weight": "bold",
            "color": "rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"
        });
        $("body").append($i);
        $i.animate({
            "top": y - 180,
            "opacity": 0
        },
        1500,
        function() {
            $i.remove();
        });
    });
});
</script>

<section ></section>
<script type='text/javascript'>
/* 鼠标环绕特效 */
!function () { function o(w, v, i) { return w.getAttribute(v) || i } function j(i) { return document.getElementsByTagName(i) } function l() { var i = j("script"), w = i.length, v = i[w - 1]; return { l: w, z: o(v, "zIndex", -1), o: o(v, "opacity", 0.5), c: o(v, "color", "0,0,0"), n: o(v, "count", 99) } } function k() { r = u.width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth, n = u.height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight } function b() { e.clearRect(0, 0, r, n); var w = [f].concat(t); var x, v, A, B, z, y; t.forEach(function (i) { i.x += i.xa, i.y += i.ya, i.xa *= i.x > r || i.x <0 ? -1 : 1, i.ya *=i.y>n || i.y <0 ? -1 : 1, e.fillRect(i.x - 0.5, i.y - 0.5, 1, 1); for (v=0; v < w.length; v++) { x = w[v]; if (i !== x &&null !== x.x &&null !== x.y) { B = i.x - x.x, z = i.y - x.y, y = B * B + z * z; y <x.max && (x=== f && y>= x.max / 2 &&(i.x -= 0.03 * B, i.y -= 0.03 * z), A = (x.max - y) / x.max, e.beginPath(), e.lineWidth = A / 2, e.strokeStyle = "rgba(" + s.c + "," + (A + 0.2) + ")", e.moveTo(i.x, i.y), e.lineTo(x.x, x.y), e.stroke()) } } w.splice(w.indexOf(i), 1) }), m(b) } var u = document.createElement("canvas"),  s = l(), c = "c_n" + s.l, e = u.getContext("2d"), r, n, m = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (i) { window.setTimeout(i, 1000 / 45) }, a = Math.random, f = { x: null, y: null, max: 20000 }; u.id = c; u.className = "hidden-xs hidden-sm my_canvas"; u.style.cssText = "position:fixed;top:0;left:0;z-index:" + s.z + ";opacity:" + s.o; j("body")[0].appendChild(u); k(), window.onresize = k; window.onmousemove = function (i) { i = i || window.event, f.x = i.clientX, f.y = i.clientY }, window.onmouseout = function () { f.x = null, f.y = null }; for (var t = [], p = 0; s.n > p; p++) { var h = a() * r, g = a() * n, q = 2 * a() - 1, d = 2 * a() - 1; t.push({ x: h, y: g, xa: q, ya: d, max: 6000 }) } setTimeout(function () { b() }, 100) }();
</script>

</body>


</html>
